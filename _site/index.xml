<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Franklin Santos</title>
<link>https://franklinsantosm.com/index.html</link>
<atom:link href="https://franklinsantosm.com/index.xml" rel="self" type="application/rss+xml"/>
<description>Data Scientis</description>
<generator>quarto-1.3.433</generator>
<lastBuildDate>Tue, 24 Oct 2023 04:00:00 GMT</lastBuildDate>
<item>
  <title>Unveiling the Power of Completely Randomized Design (CRD) in Crop Science Experiments</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/crd/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="unveiling-the-power-of-completely-randomized-design-crd-in-crop-science-experiments" class="level1">
<h1>Unveiling the Power of Completely Randomized Design (CRD) in Crop Science Experiments</h1>
<p>In the vast expanse of crop science, where precision and reliability are paramount, the choice of experimental design plays a pivotal role in unlocking the secrets of optimal crop growth. Among the arsenal of experimental methodologies, the Completely Randomized Design (CRD) emerges as a beacon of simplicity and statistical robustness. In this blog, we embark on a journey into the realm of CRD, unraveling its principles, applications, and the advantages it brings to the forefront of crop science research.</p>
<section id="understanding-crd-a-statistical-marvel" class="level2">
<h2 class="anchored" data-anchor-id="understanding-crd-a-statistical-marvel"><strong>Understanding CRD: A Statistical Marvel</strong></h2>
<p><strong>What is Completely Randomized Design (CRD)?</strong></p>
<p>CRD is a statistical method that serves as a robust tool for comparing the effects of different treatments on a single factor within crop experiments. It operates on the principle of randomness, ensuring that each experimental unit has an equal and unbiased chance of receiving any treatment. This randomization process is pivotal, eradicating potential biases and attributing observed crop responses solely to the applied treatments.</p>
<p><strong>When to Use CRD:</strong></p>
<p>CRD finds its niche in situations where experimental units are relatively homogenous, and there are no discernible patterns of variability within the experimental area. It is particularly valuable in small-scale or preliminary studies, where the primary objective is to gather initial data, identify trends, and pave the way for more intricate experimental designs.</p>
</section>
<section id="conducting-a-crd-experiment-steps-unveiled" class="level2">
<h2 class="anchored" data-anchor-id="conducting-a-crd-experiment-steps-unveiled"><strong>Conducting a CRD Experiment: Steps Unveiled</strong></h2>
<ol type="1">
<li><strong>Define the Research Question and Identify Treatments:</strong>
<ul>
<li>Begin by articulating the research question you aim to answer. Identify the treatments relevant to the research question, laying the groundwork for a focused and purposeful experiment.</li>
</ul></li>
<li><strong>Prepare the Experimental Area:</strong>
<ul>
<li>Select a uniform experimental site, ensuring consistency in soil conditions, topography, and other relevant factors. Divide the area into individual experimental units of equal size to maintain comparability.</li>
</ul></li>
<li><strong>Label the Experimental Units:</strong>
<ul>
<li>Assign unique identifiers to each experimental unit. This step facilitates tracking and systematic data recording throughout the experiment.</li>
</ul></li>
<li><strong>Randomly Assign Treatments:</strong>
<ul>
<li>Utilize a random number generator or a randomizing device to assign treatments to experimental units. This step ensures an unbiased distribution of treatments, a key feature of CRD.</li>
</ul></li>
<li><strong>Apply Treatments:</strong>
<ul>
<li>Implement the assigned treatments to the respective experimental units. Keep accurate records of application dates, quantities, and methods to maintain precision in data collection.</li>
</ul></li>
<li><strong>Collect Data:</strong>
<ul>
<li>Regularly monitor the experimental units, collecting pertinent data on crop growth, yield, and any other relevant parameters. Consistent and systematic data collection is crucial for the success of the experiment.</li>
</ul></li>
<li><strong>Analyze the Data:</strong>
<ul>
<li>Employ appropriate statistical methods to analyze the collected data. Determine whether there are significant differences in crop responses among the different treatment groups, providing valuable insights into the effectiveness of each treatment.</li>
</ul></li>
</ol>
</section>
<section id="advantages-of-crd-unraveling-simplicity-and-robustness" class="level2">
<h2 class="anchored" data-anchor-id="advantages-of-crd-unraveling-simplicity-and-robustness"><strong>Advantages of CRD: Unraveling Simplicity and Robustness</strong></h2>
<p><strong>Simplicity:</strong> CRD’s conceptual straightforwardness and ease of implementation make it accessible to researchers of varying experience levels. Its simplicity is a virtue that expedites the experimental process without compromising reliability.</p>
<p><strong>Flexibility:</strong> CRD’s adaptability shines through, accommodating a wide range of experimental setups. This flexibility allows researchers to explore various factors and treatment combinations, offering versatility in experimental design.</p>
<p><strong>Statistical Efficiency:</strong> By providing a statistically sound basis for comparing treatments, CRD ensures that conclusions drawn from the experiment are valid and reliable. This statistical efficiency is critical for making informed decisions based on experimental outcomes.</p>
<p><strong>Wide Applicability:</strong> CRD’s versatility extends across different crop types and experimental environments, making it a valuable tool for crop scientists working in diverse agricultural landscapes.</p>
</section>
<section id="applications-of-crd-in-crop-science-navigating-agricultural-frontiers" class="level2">
<h2 class="anchored" data-anchor-id="applications-of-crd-in-crop-science-navigating-agricultural-frontiers"><strong>Applications of CRD in Crop Science: Navigating Agricultural Frontiers</strong></h2>
<p>CRD has found widespread application in various facets of crop science research, including:</p>
<ul>
<li><strong>Evaluating Fertilizer Effectiveness:</strong>
<ul>
<li>CRD is instrumental in assessing the impact of different fertilizer rates and application methods on crop yield and nutrient utilization efficiency.</li>
</ul></li>
<li><strong>Comparing Crop Varieties:</strong>
<ul>
<li>Researchers leverage CRD to compare the performance of various crop varieties under different environmental conditions, aiding in the selection of optimal cultivars.</li>
</ul></li>
<li><strong>Optimizing Irrigation Practices:</strong>
<ul>
<li>CRD facilitates investigations into the effects of different irrigation regimes on crop yield and water use efficiency, contributing to water conservation efforts.</li>
</ul></li>
<li><strong>Exploring Tillage Practices:</strong>
<ul>
<li>Researchers delve into the effects of different tillage practices on soil health and crop productivity, using CRD as a systematic approach to experimentation.</li>
</ul></li>
</ul>
<p>In essence, CRD serves as a linchpin for crop scientists, offering a systematic and statistically sound approach to experimentation. Through its application, researchers generate reliable data that not only informs agricultural practices but also contributes to the broader understanding of crop dynamics, fostering innovation and sustainability in the realm of crop science.</p>
<p>The fields of green are not just a canvas for growth; they are a stage for scientific inquiry, and CRD takes center stage in unraveling the intricacies of crop science.</p>
</section>
</section>
<section id="mastering-completely-randomized-design-crd-analysis-with-agror-package" class="level1">
<h1>Mastering Completely Randomized Design (CRD) Analysis with AgroR package</h1>
<p>Conducting a thorough analysis of Completely Randomized Design (CRD) experiments in crop science can be a powerful tool for understanding treatment effects. Utilizing the AgroR package in R, you can navigate through the analysis seamlessly. Follow these steps to unlock meaningful insights from your CRD data:</p>
<section id="step-1-set-the-stage-with-agror" class="level2">
<h2 class="anchored" data-anchor-id="step-1-set-the-stage-with-agror"><strong>Step 1: Set the Stage with AgroR</strong></h2>
<section id="install-and-load-the-agror-package" class="level3">
<h3 class="anchored" data-anchor-id="install-and-load-the-agror-package">Install and Load the AgroR Package</h3>
<p>Begin by installing the AgroR package using the following R command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AgroR"</span>)</span></code></pre></div>
</div>
<p>After installation, load the package into your R session with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(AgroR)</span></code></pre></div>
</div>
</section>
</section>
<section id="step-2-prepare-your-data-for-analysis" class="level2">
<h2 class="anchored" data-anchor-id="step-2-prepare-your-data-for-analysis"><strong>Step 2: Prepare Your Data for Analysis</strong></h2>
<p>Ensure your CRD data is well-organized in a data frame with the following structure:</p>
<ul>
<li>Each row represents an experimental unit.</li>
<li>The first column contains treatment assignments (e.g., “Treatment 1”, “Treatment 2”, etc.).</li>
<li>Subsequent columns hold measured values for each experimental unit and response variable (e.g., yield, plant height).</li>
</ul>
</section>
<section id="step-3-unveil-patterns-with-analysis-of-variance-anova" class="level2">
<h2 class="anchored" data-anchor-id="step-3-unveil-patterns-with-analysis-of-variance-anova"><strong>Step 3: Unveil Patterns with Analysis of Variance (ANOVA)</strong></h2>
<p>Utilize the <code>DIC</code> function to perform ANOVA on your CRD data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data</span>(pomegranate)</span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(pomegranate, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">DIC</span>(trat, WL, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight loss (%)"</span>)) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tukey</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Normality of errors
-----------------------------------------------------------------
                         Method Statistic   p.value
 Shapiro-Wilk normality test(W) 0.9448293 0.2087967</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level, hypothesis H0 is not rejected. Therefore, errors can be considered normal</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Homogeneity of Variances
-----------------------------------------------------------------
                              Method Statistic   p.value
 Bartlett test(Bartlett's K-squared)  8.568274 0.1275737</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level,hypothesis H0 is not rejected. Therefore, the variances can be considered homogeneous</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Independence from errors
-----------------------------------------------------------------
                 Method Statistic   p.value
 Durbin-Watson test(DW)  2.104821 0.1924474</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level, hypothesis H0 is not rejected. Therefore, errors can be considered independent</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Additional Information
-----------------------------------------------------------------

CV (%) =  10.84
MStrat/MST =  0.92
Mean =  2.2596
Median =  2.225
Possible outliers =  No discrepant point

-----------------------------------------------------------------
Analysis of Variance
-----------------------------------------------------------------
          Df   Sum Sq    Mean.Sq  F value        Pr(F)
Treatment  5 3.692121 0.73842417 12.31191 2.723541e-05
Residuals 18 1.079575 0.05997639                      </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value, it is less than the 5% significance level.The hypothesis H0 of equality of means is rejected. Therefore, at least two treatments differ</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

-----------------------------------------------------------------
Multiple Comparison Test: Tukey HSD
-----------------------------------------------------------------
     resp groups
T5 2.6375      a
T4 2.6200      a
T3 2.6175      a
T6 2.1625     ab
T1 1.8425      b
T2 1.6775      b</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/crd/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/crd/index_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>use <code>mcomp</code> to multiple comparison test (Tukey (default), LSD, Scott-Knott and Duncan)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(pomegranate, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">DIC</span>(trat, WL, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mcomp =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"duncan"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight loss (%)"</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Normality of errors
-----------------------------------------------------------------
                         Method Statistic   p.value
 Shapiro-Wilk normality test(W) 0.9448293 0.2087967</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level, hypothesis H0 is not rejected. Therefore, errors can be considered normal</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Homogeneity of Variances
-----------------------------------------------------------------
                              Method Statistic   p.value
 Bartlett test(Bartlett's K-squared)  8.568274 0.1275737</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level,hypothesis H0 is not rejected. Therefore, the variances can be considered homogeneous</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Independence from errors
-----------------------------------------------------------------
                 Method Statistic   p.value
 Durbin-Watson test(DW)  2.104821 0.1924474</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level, hypothesis H0 is not rejected. Therefore, errors can be considered independent</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Additional Information
-----------------------------------------------------------------

CV (%) =  10.84
MStrat/MST =  0.92
Mean =  2.2596
Median =  2.225
Possible outliers =  No discrepant point

-----------------------------------------------------------------
Analysis of Variance
-----------------------------------------------------------------
          Df   Sum Sq    Mean.Sq  F value        Pr(F)
Treatment  5 3.692121 0.73842417 12.31191 2.723541e-05
Residuals 18 1.079575 0.05997639                      </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value, it is less than the 5% significance level.The hypothesis H0 of equality of means is rejected. Therefore, at least two treatments differ</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

-----------------------------------------------------------------
Multiple Comparison Test: Duncan
-----------------------------------------------------------------
     resp groups
T5 2.6375      a
T4 2.6200      a
T3 2.6175      a
T6 2.1625      b
T1 1.8425     bc
T2 1.6775      c</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/crd/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/crd/index_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>chart type: Graph type (columns, boxes or segments)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(pomegranate, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">DIC</span>(trat, WL, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"point"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight loss (%)"</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Normality of errors
-----------------------------------------------------------------
                         Method Statistic   p.value
 Shapiro-Wilk normality test(W) 0.9448293 0.2087967</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level, hypothesis H0 is not rejected. Therefore, errors can be considered normal</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Homogeneity of Variances
-----------------------------------------------------------------
                              Method Statistic   p.value
 Bartlett test(Bartlett's K-squared)  8.568274 0.1275737</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level,hypothesis H0 is not rejected. Therefore, the variances can be considered homogeneous</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Independence from errors
-----------------------------------------------------------------
                 Method Statistic   p.value
 Durbin-Watson test(DW)  2.104821 0.1924474</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value is greater than the 5% significance level, hypothesis H0 is not rejected. Therefore, errors can be considered independent</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Additional Information
-----------------------------------------------------------------

CV (%) =  10.84
MStrat/MST =  0.92
Mean =  2.2596
Median =  2.225
Possible outliers =  No discrepant point

-----------------------------------------------------------------
Analysis of Variance
-----------------------------------------------------------------
          Df   Sum Sq    Mean.Sq  F value        Pr(F)
Treatment  5 3.692121 0.73842417 12.31191 2.723541e-05
Residuals 18 1.079575 0.05997639                      </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>As the calculated p-value, it is less than the 5% significance level.The hypothesis H0 of equality of means is rejected. Therefore, at least two treatments differ</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

-----------------------------------------------------------------
Multiple Comparison Test: Tukey HSD
-----------------------------------------------------------------
     resp groups
T5 2.6375      a
T4 2.6200      a
T3 2.6175      a
T6 2.1625     ab
T1 1.8425      b
T2 1.6775      b</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/crd/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/crd/index_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="step-4-decode-and-conclude" class="level2">
<h2 class="anchored" data-anchor-id="step-4-decode-and-conclude"><strong>Step 4: Decode and Conclude</strong></h2>
<section id="interpret-the-crd-results" class="level3">
<h3 class="anchored" data-anchor-id="interpret-the-crd-results">Interpret the CRD Results</h3>
<p>Based on ANOVA p-values and multiple comparisons, identify significant differences in the response variable among treatments.</p>
<p>If differences are detected, pinpoint the treatment combinations responsible for those variations.</p>
<p>Consider the biological implications of observed differences and draw conclusions about treatment effects on the response variable.</p>
<p>By systematically following these steps, you’ll harness the analytical prowess of AgroR and CRD, unraveling the intricacies of your crop science experiments with precision and confidence.</p>


</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {Unveiling the {Power} of {Completely} {Randomized} {Design}
    {(CRD)} in {Crop} {Science} {Experiments}},
  date = {2023-10-24},
  url = {https://franklinsantosm.com/posts/crd},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“Unveiling the Power of Completely
Randomized Design (CRD) in Crop Science Experiments.”</span> October 24,
2023. <a href="https://franklinsantosm.com/posts/crd">https://franklinsantosm.com/posts/crd</a>.
</div></div></section></div> ]]></description>
  <category>crd</category>
  <category>agroR package</category>
  <category>Experimental Design</category>
  <guid>https://franklinsantosm.com/posts/crd/index.html</guid>
  <pubDate>Tue, 24 Oct 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/crd/cr.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>The corrr package in R: A powerful tool for exploring correlations</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/corrr/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Correlations are a fundamental tool for data analysis, and they can be used to measure the strength and direction of the relationship between two variables. The corrr package in R is a powerful tool for exploring correlations, and it makes it possible to easily perform routine tasks when exploring correlation matrices, such as:</p>
<ul>
<li>Ignoring the diagonal</li>
<li>Focusing on the correlations of certain variables against others</li>
<li>Rearranging and visualizing the matrix in terms of the strength of the correlations</li>
</ul>
<p>The corrr package also provides a number of functions for working with correlation data frames, including:</p>
<ul>
<li>Filtering and sorting</li>
<li>Computing descriptive statistics</li>
<li>Creating plots</li>
</ul>
</section>
<section id="body" class="level2">
<h2 class="anchored" data-anchor-id="body">Body</h2>
<p>This blog post will provide an overview of how to use the <code>corrr package</code> in R to explore correlations. We will cover the following topics:</p>
<ul>
<li>Installing and loading the corrr package</li>
<li>Creating a correlation data frame</li>
<li>Filtering and sorting the correlation data frame</li>
<li>Computing descriptive statistics for the correlation data frame</li>
<li>Creating plots of the correlation data frame</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The corrr package is a powerful tool for exploring correlations in R. It is highly recommended for anyone who works with correlation data.</p>
</section>
<section id="example" class="level2">
<h2 class="anchored" data-anchor-id="example">Example:</h2>
<p>Here is an example of how to use the corrr package to create a heatmap of the correlation matrix for the mtcars dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Install the corrr package</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"corrr"</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load the corrr package</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(corrr)</span></code></pre></div>
</div>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"airquality"</span>)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(airquality)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone Solar.R Wind Temp Month Day
1    41     190  7.4   67     5   1
2    36     118  8.0   72     5   2
3    12     149 12.6   74     5   3
4    18     313 11.5   62     5   4
5    NA      NA 14.3   56     5   5
6    28      NA 14.9   66     5   6</code></pre>
</div>
</div>
</section>
<section id="compute-correlation-matrix" class="level3">
<h3 class="anchored" data-anchor-id="compute-correlation-matrix">Compute correlation matrix</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">res.cor <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">correlate</span>(airquality)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Correlation computed with
• Method: 'pearson'
• Missing treated using: 'pairwise.complete.obs'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">res.cor</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  term      Ozone Solar.R    Wind   Temp    Month      Day
  &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 Ozone   NA       0.348  -0.602   0.698  0.165   -0.0132 
2 Solar.R  0.348  NA      -0.0568  0.276 -0.0753  -0.150  
3 Wind    -0.602  -0.0568 NA      -0.458 -0.178    0.0272 
4 Temp     0.698   0.276  -0.458  NA      0.421   -0.131  
5 Month    0.165  -0.0753 -0.178   0.421 NA       -0.00796
6 Day     -0.0132 -0.150   0.0272 -0.131 -0.00796 NA      </code></pre>
</div>
</div>
<p><code>fashion()</code>, this function is for pleasant correlation viewing:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">res.cor <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fashion</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     term Ozone Solar.R Wind Temp Month  Day
1   Ozone           .35 -.60  .70   .16 -.01
2 Solar.R   .35         -.06  .28  -.08 -.15
3    Wind  -.60    -.06      -.46  -.18  .03
4    Temp   .70     .28 -.46        .42 -.13
5   Month   .16    -.08 -.18  .42       -.01
6     Day  -.01    -.15  .03 -.13  -.01     </code></pre>
</div>
</div>
</section>
<section id="create-a-correlation-network" class="level3">
<h3 class="anchored" data-anchor-id="create-a-correlation-network">Create a correlation network</h3>
<p>The R function <code>network_plot()</code> can be used to visualize and explore correlations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">airquality <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">correlate</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">network_plot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_cor =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Correlation computed with
• Method: 'pearson'
• Missing treated using: 'pairwise.complete.obs'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/corrr/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The option <code>min_cor</code> indicates the required minimum correlation value for a correlation to be plotted.</p>
<p><strong>Each point reprents a variable</strong>. Variable that are highly correlated are clustered together. The positioning of variables is handled by multidimensional scaling of the absolute values of the correlations.</p>
<p>For example, it can be seen from the above plot that the variables <code>Ozone</code>, <code>Wind</code> and <code>Temp</code> are clustering together (which makes sense).</p>
<p><strong>Each path represents a correlation</strong> between the two variables that it joins. Blue color represents a positive correlation, and a red color corresponds to a negative correlation.</p>
<p>The width and transparency of the path represent the strength of the correlation (wider and less transparent = stronger correlation).</p>
<p>For example, it can be seen that the positive correlation between <code>Ozone</code> and <code>Temp</code> is stronger than the positive correlation between <code>Ozone</code> and <code>Solar.R</code>.</p>
</section>
<section id="cleaning-up-the-correlation-network" class="level3">
<h3 class="anchored" data-anchor-id="cleaning-up-the-correlation-network">Cleaning up the correlation network</h3>
<p>We can clean this up by increasing the <code>min_cor</code>, thus plotting fewer correlation paths:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">mtcars <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb13-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">correlate</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb13-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">network_plot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_cor =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Correlation computed with
• Method: 'pearson'
• Missing treated using: 'pairwise.complete.obs'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/corrr/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {The Corrr Package in {R:} {A} Powerful Tool for Exploring
    Correlations},
  date = {2023-09-20},
  url = {https://franklinsantosm.com/posts/corrr},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“The Corrr Package in R: A Powerful Tool
for Exploring Correlations.”</span> September 20, 2023. <a href="https://franklinsantosm.com/posts/corrr">https://franklinsantosm.com/posts/corrr</a>.
</div></div></section></div> ]]></description>
  <category>correlation</category>
  <category>corrr package</category>
  <category>correlation plot</category>
  <guid>https://franklinsantosm.com/posts/corrr/index.html</guid>
  <pubDate>Wed, 20 Sep 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/corrr/cor.png" medium="image" type="image/png" height="89" width="144"/>
</item>
<item>
  <title>La inteligencia artificial revoluciona la agricultura</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/agri_AI/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>La agricultura es un sector que se enfrenta a una serie de desafíos, como el cambio climático, la escasez de recursos y la creciente demanda de alimentos. La inteligencia artificial (IA) ofrece una serie de soluciones prometedoras para estos desafíos.</p>
<p>La IA se puede utilizar para analizar datos y tomar decisiones. Esto puede ayudar a los agricultores a:</p>
<ul>
<li><strong>Mejorar la detección de enfermedades y plagas</strong>: La IA se puede utilizar para analizar imágenes de cultivos para detectar signos de enfermedades o plagas. Esto permite a los agricultores tomar medidas para controlar estas amenazas antes de que causen daños significativos.</li>
<li><strong>Optimizar el riego</strong>: La IA se puede utilizar para analizar datos sobre el clima, el suelo y los cultivos para optimizar el riego. Esto puede ayudar a los agricultores a ahorrar agua y mejorar la eficiencia del riego.</li>
<li><strong>Mejorar la gestión de los nutrientes</strong>: La IA se puede utilizar para analizar datos sobre el suelo y los cultivos para optimizar la aplicación de fertilizantes. Esto puede ayudar a los agricultores a ahorrar fertilizantes y mejorar la salud de los cultivos.</li>
<li><strong>Automatizar las tareas agrícolas</strong>: La IA se puede utilizar para automatizar tareas agrícolas, como la siembra, la cosecha y el control de plagas. Esto puede ayudar a los agricultores a reducir los costos de mano de obra y mejorar la eficiencia.</li>
</ul>
<p>La IA aún está en sus primeras etapas de desarrollo, pero tiene el potencial de revolucionar la agricultura. A medida que la IA continúe desarrollándose, se espera que tenga un impacto aún mayor en el sector agropecuario.</p>
</section>
<section id="ejemplos-de-aplicaciones-de-la-ia-en-la-agricultura" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-de-aplicaciones-de-la-ia-en-la-agricultura">Ejemplos de aplicaciones de la IA en la agricultura</h2>
<p>Aquí hay algunos ejemplos de cómo la IA se está utilizando actualmente en la agricultura:</p>
<ul>
<li>La empresa estadounidense <strong>John Deere</strong> utiliza la IA para desarrollar tractores autónomos que pueden realizar tareas agrícolas sin la intervención humana.</li>
<li>La empresa israelí <strong>CropX</strong> utiliza la IA para analizar datos de imágenes satelitales para detectar signos de estrés en los cultivos.</li>
<li>La empresa estadounidense <strong>Blue River Technology</strong> utiliza la IA para desarrollar sistemas de riego que pueden ajustar la cantidad de agua aplicada a cada planta.</li>
</ul>
<p><img src="https://franklinsantosm.com/posts/agri_AI/2.webp" class="img-fluid"></p>
</section>
<section id="beneficios-de-la-ia-en-la-agricultura" class="level2">
<h2 class="anchored" data-anchor-id="beneficios-de-la-ia-en-la-agricultura">Beneficios de la IA en la agricultura</h2>
<p>La IA ofrece una serie de beneficios para la agricultura, incluyendo:</p>
<ul>
<li><strong>Mejora la productividad</strong>: La IA puede ayudar a los agricultores a obtener mayores rendimientos de sus cultivos.</li>
<li><strong>Reduce los costos</strong>: La IA puede ayudar a los agricultores a reducir los costos de mano de obra, insumos y otros gastos.</li>
<li><strong>Mejora la sostenibilidad</strong>: La IA puede ayudar a los agricultores a utilizar los recursos de manera más eficiente y reducir su impacto ambiental.</li>
</ul>
<p><img src="https://franklinsantosm.com/posts/agri_AI/3.jpeg" class="img-fluid"></p>
</section>
<section id="retos-de-la-ia-en-la-agricultura" class="level2">
<h2 class="anchored" data-anchor-id="retos-de-la-ia-en-la-agricultura">Retos de la IA en la agricultura</h2>
<p>La IA aún enfrenta algunos retos en la agricultura, incluyendo:</p>
<ul>
<li><strong>Costo</strong>: La tecnología de IA puede ser costosa, lo que puede limitar su adopción por parte de los agricultores.</li>
<li><strong>Acceso a datos</strong>: La IA requiere grandes cantidades de datos para funcionar de manera efectiva. Los agricultores pueden tener dificultades para acceder a estos datos.</li>
<li><strong>Aceptación por parte de los agricultores</strong>: Algunos agricultores pueden ser reacios a adoptar nuevas tecnologías, como la IA.</li>
</ul>
</section>
<section id="conclusión" class="level2">
<h2 class="anchored" data-anchor-id="conclusión">Conclusión</h2>
<p>La IA tiene el potencial de transformar la agricultura. A medida que la IA continúe desarrollándose y el costo de la tecnología disminuya, es probable que se adopte de manera más generalizada por los agricultores. Esto podría conducir a una agricultura más productiva, sostenible y rentable.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {La Inteligencia Artificial Revoluciona La Agricultura},
  date = {2023-08-30},
  url = {https://franklinsantosm.com/posts/agri_AI},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“La Inteligencia Artificial Revoluciona La
Agricultura.”</span> August 30, 2023. <a href="https://franklinsantosm.com/posts/agri_AI">https://franklinsantosm.com/posts/agri_AI</a>.
</div></div></section></div> ]]></description>
  <category>AI</category>
  <category>agriculture</category>
  <category>artificial intelligence</category>
  <guid>https://franklinsantosm.com/posts/agri_AI/index.html</guid>
  <pubDate>Wed, 30 Aug 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/agri_AI/AI.webp" medium="image" type="image/webp"/>
</item>
<item>
  <title>Dumbbell plot: visualizar cambio en ggplot2</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/change_plot/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>El gráfico de mancuernas es una visualización que muestra el cambio entre dos puntos de nuestros datos. Su nombre se debe a la forma de la mancuerna. Es una gran manera de mostrar los datos cambiantes entre dos puntos (piensa en el inicio y el final). Aquí podemos ver la mejora en el ahorro de combustible de los vehículos a lo largo del tiempo (entre 1999 y 2008). La mancuerna muestra el punto inicial (MPG en 1999) y el punto final (MPG en 2008).</p>
</section>
<section id="cargar-librerias-y-datos" class="level2">
<h2 class="anchored" data-anchor-id="cargar-librerias-y-datos">Cargar librerias y datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyquant)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggalt)</span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Data</span></span>
<span id="cb1-6">mpg</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 11
   manufacturer model      displ  year   cyl trans drv     cty   hwy fl    class
   &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
 1 audi         a4           1.8  1999     4 auto… f        18    29 p     comp…
 2 audi         a4           1.8  1999     4 manu… f        21    29 p     comp…
 3 audi         a4           2    2008     4 manu… f        20    31 p     comp…
 4 audi         a4           2    2008     4 auto… f        21    30 p     comp…
 5 audi         a4           2.8  1999     6 auto… f        16    26 p     comp…
 6 audi         a4           2.8  1999     6 manu… f        18    26 p     comp…
 7 audi         a4           3.1  2008     6 auto… f        18    27 p     comp…
 8 audi         a4 quattro   1.8  1999     4 manu… 4        18    26 p     comp…
 9 audi         a4 quattro   1.8  1999     4 auto… 4        16    25 p     comp…
10 audi         a4 quattro   2    2008     4 manu… 4        20    28 p     comp…
# ℹ 224 more rows</code></pre>
</div>
</div>
</section>
<section id="paso-1-preparacion-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="paso-1-preparacion-de-datos">Paso 1: Preparacion de datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">mpg_by_year_tbl <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(hwy, year, model, class)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(</span>
<span id="cb3-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> year,</span>
<span id="cb3-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> hwy,</span>
<span id="cb3-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id_cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(class, model),</span>
<span id="cb3-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_fn =</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(x) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb3-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_prefix =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"year_"</span></span>
<span id="cb3-9">  )<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">model =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_reorder</span>(model, year_2008))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>()</span></code></pre></div>
</div>
</section>
<section id="paso-2-dumbbell-plot-base" class="level2">
<h2 class="anchored" data-anchor-id="paso-2-dumbbell-plot-base">Paso 2: Dumbbell plot base</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># basic plot with ggalt</span></span>
<span id="cb4-2">g1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> mpg_by_year_tbl<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> year_1999, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend =</span> year_2008,</span>
<span id="cb4-4">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> model, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> model))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_dumbbell</span>(</span>
<span id="cb4-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#a3c4dc"</span>,</span>
<span id="cb4-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour_xend =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#0e668b"</span>,</span>
<span id="cb4-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.5</span>,</span>
<span id="cb4-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dot_guide =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,</span>
<span id="cb4-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dot_guide_size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.19</span>,</span>
<span id="cb4-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dot_guide_colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span></span>
<span id="cb4-12">  )</span>
<span id="cb4-13"></span>
<span id="cb4-14">g1</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/change_plot/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="paso-3-configurar-con-ggplot" class="level2">
<h2 class="anchored" data-anchor-id="paso-3-configurar-con-ggplot">Paso 3: Configurar con <code>ggplot</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">g2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> g1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb5-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cambio de vehiculos entre 1999 y 2008"</span>,</span>
<span id="cb5-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fuel Economy (MPG)"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Vehicle Model"</span></span>
<span id="cb5-5">)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_tq</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb5-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.minor =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb5-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb5-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(),</span>
<span id="cb5-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb5-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>()</span>
<span id="cb5-13">  )</span>
<span id="cb5-14"></span>
<span id="cb5-15">g2</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/change_plot/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {Dumbbell Plot: Visualizar Cambio En Ggplot2},
  date = {2023-07-20},
  url = {https://franklinsantosm.com/posts/change_plot},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“Dumbbell Plot: Visualizar Cambio En
Ggplot2.”</span> July 20, 2023. <a href="https://franklinsantosm.com/posts/change_plot">https://franklinsantosm.com/posts/change_plot</a>.
</div></div></section></div> ]]></description>
  <category>data science</category>
  <category>ggalt</category>
  <category>dumbbell plot</category>
  <guid>https://franklinsantosm.com/posts/change_plot/index.html</guid>
  <pubDate>Thu, 20 Jul 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/change_plot/change.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>Analisis de datos climaticos</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/weather_mizque/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb1-2">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/Users/franklin/Documents/R/myblog/posts/weather_mizque/dato_diarios.xlsx"</span>)</span></code></pre></div>
</div>
</section>
<section id="analisis-de-temperatura" class="level2">
<h2 class="anchored" data-anchor-id="analisis-de-temperatura">analisis de temperatura</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Real data Mizque</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(metan)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'GGally':
  method from   
  +.gg   ggplot2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|=========================================================|</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>| Multi-Environment Trial Analysis (metan) v1.18.0        |</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>| Author: Tiago Olivoto                                   |</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>| Type 'citation('metan')' to know how to cite metan      |</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>| Type 'vignette('metan_start')' for a short tutorial     |</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>| Visit 'https://bit.ly/pkgmetan' for a complete tutorial |</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>|=========================================================|</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">inspect</span>(df, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot =</span> F)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 × 10
   Variable      Class Missing Levels Valid_n    Min Median    Max Outlier Text 
   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;
 1 "mes"         nume… No      -          485    1      5     12         0  &lt;NA&gt;
 2 "dia"         nume… No      -          485    1     16     31         0  &lt;NA&gt;
 3 "estacion"    char… No      0          485   NA     NA     NA        NA "Lin…
 4 "longitud"    nume… No      -          485  -65.4  -65.4  -65.4       0  &lt;NA&gt;
 5 "latitud"     nume… No      -          485  -18.0  -18.0  -18.0       0  &lt;NA&gt;
 6 "altura"      nume… No      -          485 2055   2055   2055         0  &lt;NA&gt;
 7 "Precipitaci… char… No      0          485   NA     NA     NA        NA "Lin…
 8 "\"Temperatu… char… No      0          485   NA     NA     NA        NA "Lin…
 9 "\"Temperatu… char… No      0          485   NA     NA     NA        NA "Lin…
10 "\"Temperatu… char… No      0          485   NA     NA     NA        NA "Lin…
11 "\"Humedad R… char… No      0          485   NA     NA     NA        NA "Lin…
12 "\"Humedad R… char… No      0          485   NA     NA     NA        NA "Lin…
13 "\"Humedad R… char… No      0          485   NA     NA     NA        NA "Lin…</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Considering the levels of factors, .data should have 1 rows, but it
has 485. Use 'as_factor()' for coercing a variable to a factor.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Expected three or more factor variables. The data has only 0.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Possible text fragments in variable(s) estacion, Precipitación,
"Temperatura Máxima", "Temperatura Mínima", "Temperatura Media", "Humedad
Relativa Máxima", "Humedad Relativa Mínima", "Humedad Relativa Media".</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ forcats::as_factor()         masks metan::as_factor()
✖ tibble::column_to_rownames() masks metan::column_to_rownames()
✖ dplyr::filter()              masks stats::filter()
✖ dplyr::lag()                 masks stats::lag()
✖ dplyr::recode_factor()       masks metan::recode_factor()
✖ tibble::remove_rownames()    masks metan::remove_rownames()
✖ tidyr::replace_na()          masks metan::replace_na()
✖ tibble::rownames_to_column() masks metan::rownames_to_column()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(df)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "gestion"                     "mes"                        
 [3] "dia"                         "estacion"                   
 [5] "longitud"                    "latitud"                    
 [7] "altura"                      "Precipitación"              
 [9] "\"Temperatura Máxima\""      "\"Temperatura Mínima\""     
[11] "\"Temperatura Media\""       "\"Humedad Relativa Máxima\""
[13] "\"Humedad Relativa Mínima\"" "\"Humedad Relativa Media\"" </code></pre>
</div>
</div>
</section>
<section id="rename-variables" class="level2">
<h2 class="anchored" data-anchor-id="rename-variables">Rename variables</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">newvar <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PP =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Precipitación"</span>, </span>
<span id="cb21-2">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Tmax =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Temperatura Máxima</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb21-3">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Tmin =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Temperatura Mínima</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb21-4">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Tmean =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Temperatura Media</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb21-5">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">HRmax =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Humedad Relativa Máxima</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb21-6">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">HRmin =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Humedad Relativa Mínima</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb21-7">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">HRmean =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Humedad Relativa Media</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1">db <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb22-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">any_of</span>(newvar))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb22-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb22-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate_if</span>(is.character, as.numeric)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb22-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mes =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.factor</span>(mes), </span>
<span id="cb22-6">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">gestion =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.factor</span>(gestion))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb22-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mes=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">recode</span>(mes, </span>
<span id="cb22-8">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'1'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Ene'</span>, </span>
<span id="cb22-9">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'2'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Feb'</span>,</span>
<span id="cb22-10">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'3'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Mar'</span>,</span>
<span id="cb22-11">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'4'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Abr'</span>,</span>
<span id="cb22-12">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'5'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'May'</span>,</span>
<span id="cb22-13">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'6'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Jun'</span>,</span>
<span id="cb22-14">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'7'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Jul'</span>,</span>
<span id="cb22-15">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'8'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Ago'</span>,</span>
<span id="cb22-16">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'9'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sep'</span>,</span>
<span id="cb22-17">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'10'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Oct'</span>,</span>
<span id="cb22-18">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'11'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Nov'</span>,</span>
<span id="cb22-19">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'12'</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Dic'</span>))</span>
<span id="cb22-20">db  </span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 485 × 10
   gestion mes     dia    PP  Tmax  Tmin Tmean HRmax HRmin HRmean
   &lt;fct&gt;   &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1 2022    Ene       1   0.4  31.4  9.92  20.6  93.2  19.3   53.4
 2 2022    Ene       2   0    33.3 11.7   19.7  96.6  18.0   69.6
 3 2022    Ene       3   5.1  29.6 14.4   21.0  88.7  27.2   58.7
 4 2022    Ene       4   0    30.1 14.1   20.1  90.8  23.6   66.3
 5 2022    Ene       5   1.5  21.9 13.4   16.7  94.6  47.8   81.0
 6 2022    Ene       6   4.5  25.5 14.4   19.8  94.3  35.9   65.8
 7 2022    Ene       7   0    27.3 14.7   20.4  95.6  39.9   67.3
 8 2022    Ene       8  24.2  25.3 15.3   19.0  91.3  49.6   74.5
 9 2022    Ene       9   0    26.9 15.5   20.2  92.7  38.5   70.6
10 2022    Ene      10   0    24   14.5   18.5  91.9  47.2   73.0
# ℹ 475 more rows</code></pre>
</div>
</div>
</section>
<section id="plot-temperature" class="level2">
<h2 class="anchored" data-anchor-id="plot-temperature">plot temperature</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggridges)</span>
<span id="cb24-2"></span>
<span id="cb24-3">my_theme <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb24-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb24-6">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>),</span>
<span id="cb24-7">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>),</span>
<span id="cb24-8">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.minor =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())</span>
<span id="cb24-9"></span>
<span id="cb24-10">p1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(</span>
<span id="cb24-11">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> db,</span>
<span id="cb24-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Tmean</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>,</span>
<span id="cb24-13">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mes</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>,</span>
<span id="cb24-14">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">after_stat</span>(x))</span>
<span id="cb24-15">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density_ridges_gradient</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, </span>
<span id="cb24-17">                               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rel_min_height =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.001</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis_c</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Temp (ºC)"</span>, </span>
<span id="cb24-19">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">direction =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"H"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-20">  my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.95</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Temperatura promedio (ºC)"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Meses"</span>)</span>
<span id="cb24-23"></span>
<span id="cb24-24">p2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(</span>
<span id="cb24-25">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> db,</span>
<span id="cb24-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Tmin</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>,</span>
<span id="cb24-27">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mes</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>,</span>
<span id="cb24-28">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">after_stat</span>(x))</span>
<span id="cb24-29">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density_ridges_gradient</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, </span>
<span id="cb24-31">                               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rel_min_height =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.001</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis_c</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Temp (ºC)"</span>, </span>
<span id="cb24-33">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">direction =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"H"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-34">  my_theme<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-35">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.77</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-36">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Temperatura mínima (ºC)"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Meses"</span>)</span>
<span id="cb24-37"></span>
<span id="cb24-38"></span>
<span id="cb24-39">p3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(</span>
<span id="cb24-40">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> db,</span>
<span id="cb24-41">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Tmax</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>,</span>
<span id="cb24-42">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mes</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>,</span>
<span id="cb24-43">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">after_stat</span>(x))</span>
<span id="cb24-44">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-45">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density_ridges_gradient</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, </span>
<span id="cb24-46">                               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rel_min_height =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.001</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-47">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis_c</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Temp (ºC)"</span>, </span>
<span id="cb24-48">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">direction =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"H"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-49">  my_theme<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-50">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-51">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Temperatura maxima (ºC)"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Meses"</span>)</span>
<span id="cb24-52"></span>
<span id="cb24-53"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange_ggplot</span>((p1),</span>
<span id="cb24-54">               (p2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>p3),</span>
<span id="cb24-55">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb24-56">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tag_levels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 0.801</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 1.11</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 1.2</code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/weather_mizque/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="plot-precipitation" class="level2">
<h2 class="anchored" data-anchor-id="plot-precipitation">plot precipitation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1">pp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span>db<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PP =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">na_if</span>(PP, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.0</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> mes,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> PP,</span>
<span id="cb28-4">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> mes</span>
<span id="cb28-5">             )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_boxplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">outlier.shape =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_jitter</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-8">  my_theme<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Meses"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Precipitacion (mm)"</span>)</span></code></pre></div>
</div>
</section>
<section id="humedad-relativa-plot" class="level2">
<h2 class="anchored" data-anchor-id="humedad-relativa-plot">Humedad relativa plot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1">fechas <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb29-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">any_of</span>(newvar))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb29-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb29-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate_if</span>(is.character, as.numeric)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb29-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fecha =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">make_datetime</span>(gestion,mes,dia))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb29-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(fecha,HRmin,HRmax, HRmean)</span>
<span id="cb29-7">fechas</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 485 × 4
   fecha               HRmin HRmax HRmean
   &lt;dttm&gt;              &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1 2022-01-01 00:00:00  19.3  93.2   53.4
 2 2022-01-02 00:00:00  18.0  96.6   69.6
 3 2022-01-03 00:00:00  27.2  88.7   58.7
 4 2022-01-04 00:00:00  23.6  90.8   66.3
 5 2022-01-05 00:00:00  47.8  94.6   81.0
 6 2022-01-06 00:00:00  35.9  94.3   65.8
 7 2022-01-07 00:00:00  39.9  95.6   67.3
 8 2022-01-08 00:00:00  49.6  91.3   74.5
 9 2022-01-09 00:00:00  38.5  92.7   70.6
10 2022-01-10 00:00:00  47.2  91.9   73.0
# ℹ 475 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1">HR <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> fechas<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>fecha, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>HRmean))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-4">  my_theme<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Meses"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Humedad relativa promedio (%)"</span>)</span>
<span id="cb31-6">HR</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/weather_mizque/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(plotly)</span>
<span id="cb32-2">p <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> fechas<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_ly</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>fecha, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>HRmean)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">add_lines</span>()</span>
<span id="cb32-5">p</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange_ggplot</span>((pp),</span>
<span id="cb33-2">               (p1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>HR),</span>
<span id="cb33-3">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb33-4">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tag_levels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 342 rows containing non-finite values (`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 342 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 0.801</code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/weather_mizque/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {Analisis de Datos Climaticos},
  date = {2023-06-25},
  url = {https://franklinsantosm.com/posts/weather_mizque},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“Analisis de Datos Climaticos.”</span>
June 25, 2023. <a href="https://franklinsantosm.com/posts/weather_mizque">https://franklinsantosm.com/posts/weather_mizque</a>.
</div></div></section></div> ]]></description>
  <category>data science</category>
  <category>weather analysis</category>
  <category>plot</category>
  <guid>https://franklinsantosm.com/posts/weather_mizque/index.html</guid>
  <pubDate>Sun, 25 Jun 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/weather_mizque/w.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>ggplot2: facet_wrap, facet_grid</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/facet_ggplot2/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p><code>ggplot2</code> es un paquete de visualización de datos en R que utiliza la gramática de gráficos para crear gráficos flexibles y de alta calidad. Con su sintaxis intuitiva, amplias opciones de personalización y variedad de gráficos predefinidos, <code>ggplot2</code> se ha convertido en una herramienta popular y poderosa para la visualización de datos en la comunidad de R.</p>
<p><code>facet_grid</code> y <code>facet_wrap</code> son dos funciones en el paquete <code>ggplot2</code> de R que permiten dividir un gráfico en múltiples paneles según las variables de una o varias variables categóricas. Estas funciones son especialmente útiles cuando se desea explorar la relación entre variables en diferentes subconjuntos de datos.</p>
</section>
<section id="facet-wrap" class="level2">
<h2 class="anchored" data-anchor-id="facet-wrap">Facet wrap</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-2">mpg2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">subset</span>(mpg, cyl <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> drv <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"4"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"f"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> class <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2seater"</span>)</span>
<span id="cb1-3">base <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(mpg2, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(displ, hwy)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb1-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_blank</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb1-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlab</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb1-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>)</span>
<span id="cb1-7"></span>
<span id="cb1-8">base <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>class, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">base <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>class, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">as.table =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-1-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">base <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>class, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">base <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>class, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dir =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"v"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="facet-grid" class="level2">
<h2 class="anchored" data-anchor-id="facet-grid">Facet grid</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">base <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_grid</span>(. <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> cyl)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><code>facet_grid()</code> dispone los gráficos en una cuadrícula 2D, definida por una fórmula:</li>
</ul>
<p><code>. ~ a</code> distribuye los valores de <code>a</code> a través de las columnas. Esta dirección facilita las comparaciones de la posición y, porque las escalas verticales están alineadas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">base <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_grid</span>(. <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> cyl)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><code>b ~ .</code> reparte los valores de <code>b</code> por las filas. Esta dirección facilita la comparación de la posición x porque las escalas horizontales están alineadas. Esto la hace especialmente útil para comparar distribuciones.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">base <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_grid</span>(drv <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> .)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><code>b ~ a</code> distribuye <code>a</code> a lo largo de las columnas y <code>b</code> a lo largo de las filas. Normalmente querrás poner la variable con el mayor número de niveles en las columnas, para aprovechar la relación de aspecto de tu pantalla.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">base <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_grid</span>(drv <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> cyl)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Puede utilizar múltiples variables en las filas o columnas, “sumándolas”, por ejemplo <code>a + b ~ c + d</code>. Las variables que aparecen juntas en las filas o columnas están anidadas en el sentido de que sólo las combinaciones que aparecen en los datos aparecerán en el gráfico. Las variables que se especifican en filas y columnas se cruzarán: se mostrarán todas las combinaciones, incluidas las que no aparecían en el conjunto de datos original: esto puede dar lugar a paneles vacíos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Simulación de datos</span></span>
<span id="cb9-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb9-3">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span>)</span>
<span id="cb9-4">y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb9-5">grupo1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"G1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"G2"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"G3"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"G4"</span>)))</span>
<span id="cb9-6">grupo2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"A"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"B"</span>)</span>
<span id="cb9-7">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x), <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)</span>
<span id="cb9-8"></span>
<span id="cb9-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Data frame</span></span>
<span id="cb9-10">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">grupo1 =</span> grupo1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">grupo2 =</span> grupo2)</span>
<span id="cb9-11"></span>
<span id="cb9-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Matriz de gráficos</span></span>
<span id="cb9-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> grupo1)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">show.legend =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_grid</span>(grupo1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> grupo2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="controlando-escalas" class="level2">
<h2 class="anchored" data-anchor-id="controlando-escalas">Controlando escalas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">economics_long</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,870 × 4
   date       variable value  value01
   &lt;date&gt;     &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 1967-07-01 pce       507. 0       
 2 1967-08-01 pce       510. 0.000265
 3 1967-09-01 pce       516. 0.000762
 4 1967-10-01 pce       512. 0.000471
 5 1967-11-01 pce       517. 0.000916
 6 1967-12-01 pce       525. 0.00157 
 7 1968-01-01 pce       531. 0.00207 
 8 1968-02-01 pce       534. 0.00230 
 9 1968-03-01 pce       544. 0.00322 
10 1968-04-01 pce       544  0.00319 
# ℹ 2,860 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(economics_long, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(date, value)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>variable, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free_y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">mpg2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">reorder</span>(mpg2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>model, mpg2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cty)</span>
<span id="cb13-2">mpg2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>manufacturer <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">reorder</span>(mpg2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>manufacturer, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>mpg2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>cty)</span>
<span id="cb13-3"></span>
<span id="cb13-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(mpg2, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(cty, model)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_grid</span>(manufacturer <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> ., <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">space =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb13-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">strip.text.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/facet_ggplot2/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {Ggplot2: Facet\_wrap, Facet\_grid},
  date = {2023-05-15},
  url = {https://franklinsantosm.com/posts/facet_ggplot2},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“Ggplot2: Facet_wrap, Facet_grid.”</span>
May 15, 2023. <a href="https://franklinsantosm.com/posts/facet_ggplot2">https://franklinsantosm.com/posts/facet_ggplot2</a>.
</div></div></section></div> ]]></description>
  <category>ggplot2</category>
  <category>facet_wrap</category>
  <category>facet_grid</category>
  <guid>https://franklinsantosm.com/posts/facet_ggplot2/index.html</guid>
  <pubDate>Mon, 15 May 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/facet_ggplot2/ggp.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>JULIA: Lenguaje de programación del futuro</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/julia/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="qué-es-julia" class="level2">
<h2 class="anchored" data-anchor-id="qué-es-julia">¿Qué es Julia?</h2>
<p>Julia es un lenguaje de programación de alto nivel, diseñado específicamente para el cómputo científico y la estadística. Fue creado en el año 2009 por un grupo de investigadores en la Universidad de California, Berkeley, y se lanzó oficialmente en el año 2012.</p>
<p>Julia combina la facilidad de uso de lenguajes como Python y R con el rendimiento de lenguajes de bajo nivel como C y Fortran. Utiliza una sintaxis clara y concisa, similar a la de MATLAB, y cuenta con una amplia variedad de paquetes y librerías especializadas para estadística y ciencias de datos.</p>
</section>
<section id="ventajas-de-julia-para-estadística" class="level2">
<h2 class="anchored" data-anchor-id="ventajas-de-julia-para-estadística">Ventajas de Julia para estadística</h2>
<p>Julia tiene varias ventajas que lo hacen especialmente útil para aplicaciones estadísticas y de ciencias de datos:</p>
<ul>
<li><p><strong>Rendimiento</strong>: Julia se ejecuta muy rápidamente gracias a su compilación just-in-time (JIT) y a la capacidad de definir tipos de datos específicos para mejorar el rendimiento. Esto significa que se puede trabajar con grandes conjuntos de datos y cálculos complejos de manera eficiente.</p></li>
<li><p><strong>Sintaxis clara y expresiva</strong>: Julia tiene una sintaxis intuitiva y fácil de aprender, que se asemeja a la de otros lenguajes populares como MATLAB o Python. Esto hace que sea fácil para los nuevos usuarios comenzar a trabajar con él.</p></li>
<li><p><strong>Interoperabilidad</strong>: Julia es capaz de integrarse fácilmente con otros lenguajes como Python, R y C. Esto significa que los usuarios pueden aprovechar las bibliotecas y paquetes de otros lenguajes y combinarlos con Julia para obtener el mejor rendimiento posible.</p></li>
<li><p><strong>Paquetes especializados</strong>: Julia cuenta con una amplia variedad de paquetes especializados para estadística y ciencias de datos, como DataFrames.jl, Plots.jl, StatsModels.jl y muchas otras. Esto facilita mucho el trabajo con datos y cálculos estadísticos.</p></li>
</ul>
</section>
<section id="ejemplos-de-uso-de-julia-en-estadística" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-de-uso-de-julia-en-estadística">Ejemplos de uso de Julia en estadística</h2>
<p>Aquí te presento algunos ejemplos de cómo se puede utilizar Julia para aplicaciones estadísticas:</p>
<ul>
<li><p><strong>Análisis de datos</strong>: Julia es especialmente útil para el análisis de grandes conjuntos de datos. Con paquetes como <a href="https://dataframes.juliadata.org/stable/"><code>DataFrames.jl</code></a>, se puede cargar, manipular y analizar datos de manera eficiente y con alta precisión.</p></li>
<li><p><strong>Modelado estadístico</strong>: Julia cuenta con paquetes especializados para modelado estadístico, como <a href="https://juliastats.org/StatsModels.jl/stable/"><code>StatsModels.jl</code></a> y <a href="https://juliastats.org/GLM.jl/stable/"><code>GLM.jl</code></a>. Estos paquetes permiten ajustar modelos estadísticos complejos y realizar inferencias precisas sobre los datos.</p></li>
<li><p><strong>Visualización de datos</strong>: Julia cuenta con varias bibliotecas de visualización de datos, como <a href="https://docs.juliaplots.org/stable/"><code>Plots.jl</code></a> y <a href="http://gadflyjl.org/stable/"><code>Gadfly.jl</code></a>, que permiten crear visualizaciones de datos de alta calidad de manera eficiente.</p></li>
<li><p><strong>Machine learning</strong>: Julia cuenta con paquetes especializados para el aprendizaje automático, como <a href="https://fluxml.ai/Flux.jl/stable/"><code>Flux.jl</code></a> y <a href="https://alan-turing-institute.github.io/MLJ.jl/dev/"><code>MLJ.jl</code></a>, que permiten entrenar y evaluar modelos de aprendizaje automático de manera eficiente y escalable.</p></li>
</ul>
</section>
<section id="conclusión" class="level2">
<h2 class="anchored" data-anchor-id="conclusión">Conclusión</h2>
<p>Julia es un lenguaje de programación poderoso y versátil que ofrece muchas ventajas para aplicaciones estadísticas y científicas. Con su combinación de rendimiento, sintaxis clara y concisa, y paquetes especializados, Julia se está convirtiendo en una herramienta cada vez más popular para la comunidad estadística y de ciencias de datos.</p>
<p>A medida que se continúa desarrollando y mejorando, se espera que Julia continúe creciendo en popularidad y se convierta en una herramienta aún más valiosa para aplicaciones estadísticas. Además, dado que Julia está diseñado para ser interoperable con otros lenguajes, se espera que su uso se expanda aún más a medida que se integra en ecosistemas de datos y herramientas existentes.</p>
</section>
<section id="resumen" class="level2">
<h2 class="anchored" data-anchor-id="resumen">Resumen</h2>
<p>Si estás buscando una herramienta poderosa y eficiente para aplicaciones estadísticas y científicas, definitivamente vale la pena considerar Julia. Con su rendimiento de alta velocidad y sus paquetes especializados, Julia tiene el potencial de acelerar y mejorar significativamente la investigación y el análisis en muchas áreas diferentes.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {JULIA: {Lenguaje} de Programación Del Futuro},
  date = {2023-04-25},
  url = {https://franklinsantosm.com/posts/julia},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“JULIA: Lenguaje de Programación Del
Futuro.”</span> April 25, 2023. <a href="https://franklinsantosm.com/posts/julia">https://franklinsantosm.com/posts/julia</a>.
</div></div></section></div> ]]></description>
  <category>julia</category>
  <category>Artificial Intelligence</category>
  <category>Data Science</category>
  <guid>https://franklinsantosm.com/posts/julia/index.html</guid>
  <pubDate>Tue, 25 Apr 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/julia/julia.png" medium="image" type="image/png" height="96" width="144"/>
</item>
<item>
  <title>Inteligencia artificial en la agricultura</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/AI/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="qué-es-la-inteligencia-artificial" class="level2">
<h2 class="anchored" data-anchor-id="qué-es-la-inteligencia-artificial">¿Qué es la inteligencia artificial?</h2>
<p>La inteligencia artificial es la capacidad de una máquina o sistema de software para realizar tareas que normalmente requerirían inteligencia humana, como el aprendizaje, la percepción, el razonamiento y la toma de decisiones. La IA puede ser utilizada en una amplia variedad de aplicaciones, desde el reconocimiento de imágenes hasta la automatización de procesos.</p>
</section>
<section id="el-estado-del-arte-de-la-ia" class="level2">
<h2 class="anchored" data-anchor-id="el-estado-del-arte-de-la-ia">El estado del arte de la IA</h2>
<p>En la actualidad, la IA se encuentra en un estado avanzado de desarrollo. Los sistemas de IA están mejorando rápidamente y se están utilizando en una amplia variedad de aplicaciones, incluyendo la medicina, el transporte, la banca y la industria agrícola.</p>
</section>
<section id="desafíos-y-oportunidades-futuras" class="level2">
<h2 class="anchored" data-anchor-id="desafíos-y-oportunidades-futuras">Desafíos y oportunidades futuras</h2>
<p>A pesar del progreso significativo, todavía hay desafíos que se deben abordar en la aplicación de la IA en la agricultura. Algunos de estos desafíos incluyen la falta de datos de calidad y la resistencia de los agricultores a adoptar nuevas tecnologías. Sin embargo, la oportunidad de mejorar la producción y la sostenibilidad agrícola mediante la aplicación de la IA sigue siendo significativa.</p>
</section>
<section id="habilidades-en-programación-y-ciencia-de-datos-para-ingenieros-agrónomos" class="level2">
<h2 class="anchored" data-anchor-id="habilidades-en-programación-y-ciencia-de-datos-para-ingenieros-agrónomos">Habilidades en programación y ciencia de datos para ingenieros agrónomos</h2>
<p>Los ingenieros agrónomos pueden mejorar su trabajo en la agronomía aprendiendo habilidades en programación y ciencia de datos. Estas habilidades incluyen aprender los fundamentos de programación, lenguajes de programación populares, realizar cursos en línea o presenciales, trabajar en proyectos prácticos y participar en eventos y comunidades de programación y ciencia de datos.</p>
</section>
<section id="la-aplicación-de-la-ia-en-la-agricultura" class="level2">
<h2 class="anchored" data-anchor-id="la-aplicación-de-la-ia-en-la-agricultura">La aplicación de la IA en la agricultura</h2>
<p>La aplicación de la IA en la agricultura puede proporcionar soluciones para mejorar la producción, la calidad y la sostenibilidad de los cultivos. Algunas de las aplicaciones de la IA en la agricultura incluyen el análisis de datos agrícolas para la toma de decisiones, la automatización de procesos agrícolas, el monitoreo y la detección de enfermedades en los cultivos, la identificación de plagas y la predicción de la calidad de los cultivos.</p>
</section>
<section id="conclusión" class="level2">
<h2 class="anchored" data-anchor-id="conclusión">Conclusión</h2>
<p>La IA es una tecnología emergente que tiene el potencial de revolucionar la forma en que se aborda la producción agrícola. Los ingenieros agrónomos pueden mejorar su trabajo en la agronomía aprendiendo habilidades en programación y ciencia de datos, lo que les permitirá aprovechar la IA para mejorar la producción, la calidad y la sostenibilidad de los cultivos. A medida que la tecnología continúa avanzando, es probable que veamos aún más aplicaciones de la IA en la industria agrícola.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {Inteligencia Artificial En La Agricultura},
  date = {2023-03-15},
  url = {https://franklinsantosm.com/posts/AI},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“Inteligencia Artificial En La
Agricultura.”</span> March 15, 2023. <a href="https://franklinsantosm.com/posts/AI">https://franklinsantosm.com/posts/AI</a>.
</div></div></section></div> ]]></description>
  <category>AI</category>
  <category>Artificial Intelligence</category>
  <category>Agriculture</category>
  <guid>https://franklinsantosm.com/posts/AI/index.html</guid>
  <pubDate>Wed, 15 Mar 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/AI/ai.webp" medium="image" type="image/webp"/>
</item>
<item>
  <title>Mapas de Bolivia</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/maps/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="mapas" class="level1">
<h1>Mapas</h1>
<section id="introduccion" class="level2">
<h2 class="anchored" data-anchor-id="introduccion">Introduccion</h2>
<p>El paquete <code>rnaturalearth</code> es una herramienta excelente para mantener y facilitar la interacción con los datos cartográficos de <a href="https://www.naturalearthdata.com/">Natural Earth</a>. Para producir mapas con <code>ggplot2</code>, se necesitan los siguientes paquetes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ ggplot2 3.4.0      ✔ purrr   1.0.0 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.5.0 
✔ readr   2.1.3      ✔ forcats 0.5.2 
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(rnaturalearth)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># America del sur</span></span>
<span id="cb4-2">sam <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ne_countries</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">continent =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"south america"</span>,</span>
<span id="cb4-3">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">returnclass =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sf"</span>,</span>
<span id="cb4-4">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>)</span>
<span id="cb4-5">p1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_sf</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> sam, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_light</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlim</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35</span>))</span>
<span id="cb4-9"></span>
<span id="cb4-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Imagen de Bolivia y destacar La Paz</span></span>
<span id="cb4-11"></span>
<span id="cb4-12">bolivia <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ne_states</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">country =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bolivia"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">returnclass =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sf"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scat =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(postal <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"La Paz"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Otros"</span>))</span>
<span id="cb4-14"></span>
<span id="cb4-15">p2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> </span>
<span id="cb4-16">  p1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_sf</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> bolivia, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> scat))</span>
<span id="cb4-18">p2</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/maps/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {Mapas de {Bolivia}},
  date = {2023-02-01},
  url = {https://franklinsantosm.com/posts/maps},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“Mapas de Bolivia.”</span> February 1,
2023. <a href="https://franklinsantosm.com/posts/maps">https://franklinsantosm.com/posts/maps</a>.
</div></div></section></div> ]]></description>
  <category>maps</category>
  <category>Bolivia</category>
  <category>bioinformatic</category>
  <guid>https://franklinsantosm.com/posts/maps/index.html</guid>
  <pubDate>Wed, 01 Feb 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/maps/map.png" medium="image" type="image/png" height="112" width="144"/>
</item>
<item>
  <title>Análisis de datos experimentales agrícolas</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/agridata/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introducción" class="level1">
<h1>Introducción</h1>
<p>El análisis de datos es una etapa esencial en el proceso de investigación y consiste en examinar y analizar los datos recopilados de manera detallada para extraer información y obtener conclusiones relevantes en función a los objetivos de la investigación. Para realizar el análisis de datos, se pueden utilizar diferentes herramientas y técnicas, generalmente se construyen tablas y figuras. Estos resultados son usados para tomar decisiones y formular conclusiones sobre los datos, y también pueden ser utilizados para mejorar y optimizar procesos y sistemas. El análisis de datos es importante ya que permite a los investigadores obtener una visión más profunda y detallada de los datos y tomar decisiones más informadas y precisas.</p>
<p>La etapa de análisis de datos puede resultar un reto difícil para un recien egresado o tesista. Esto debido a la falta de experiencia o conocimiento en el uso de herramientas y técnicas de análisis de datos. Debido a ello, queremos facilitar algunas herramientas de análisis, al mismo tiempo, se pretende que los interesados puedan entrenarse en el uso de R. Ya que esta herramienta estadística ofrece un sin fin de paquetes que nos ayudan a realizar los análisis de manera sencilla pero de mucha categoría científica.</p>
</section>
<section id="análisis-de-datos" class="level1">
<h1>Análisis de datos</h1>
<section id="librerias" class="level2">
<h2 class="anchored" data-anchor-id="librerias">Librerias</h2>
</section>
<section id="base-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="base-de-datos">Base de datos</h2>
<p>Para esta oportunidad daremos uso de la base de datos de <code>iris</code>. Estos datos estarán disponibles al momento de instalar R.</p>
</section>
<section id="análisis-descriptivo" class="level2">
<h2 class="anchored" data-anchor-id="análisis-descriptivo">Análisis descriptivo</h2>
<p>Generalmente se puede presentar en una tabla los resultados descriptivos.</p>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Análisis descriptivo</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">variable</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">se</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kurt</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">skew</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">min</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Petal.Length</td>
<td style="text-align: right;">3.76</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">-1.40</td>
<td style="text-align: right;">-0.27</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">6.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Petal.Width</td>
<td style="text-align: right;">1.20</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">-1.34</td>
<td style="text-align: right;">-0.10</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">2.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sepal.Length</td>
<td style="text-align: right;">5.84</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">-0.55</td>
<td style="text-align: right;">0.31</td>
<td style="text-align: right;">4.3</td>
<td style="text-align: right;">7.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sepal.Width</td>
<td style="text-align: right;">3.06</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">0.32</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">4.4</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>La otra opción podría ser una figura <code>boxplot</code></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/agridata/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="análisis-de-varianza" class="level2">
<h2 class="anchored" data-anchor-id="análisis-de-varianza">Análisis de varianza</h2>
<p>Generalmente en la mayoría de las tesis se presenta cada ANOVA para cada variable, la cual no es muy redundante en todo el documento. Además, en las revistas científicas de impacto, este tipo de tablas no es permitido si se tiene varias variables.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: Sepal.Width
           Df Sum Sq Mean Sq F value    Pr(&gt;F)    
Species     2 11.345  5.6725   49.16 &lt; 2.2e-16 ***
Residuals 147 16.962  0.1154                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Sin embargo, se podría resumir de esta manera. En la tabla solamente se presenta aquellas variables con significancia estadística.</p>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Análisis de varianza</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">FV</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">DF</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Sepal.Length</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Sepal.Width</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Petal.Length</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Petal.Width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Species</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">31.61 **</td>
<td style="text-align: left;">5.67 **</td>
<td style="text-align: left;">218.55 **</td>
<td style="text-align: left;">40.21 **</td>
</tr>
<tr class="even">
<td style="text-align: left;">Residuals</td>
<td style="text-align: right;">147</td>
<td style="text-align: left;">0.27</td>
<td style="text-align: left;">0.12</td>
<td style="text-align: left;">0.19</td>
<td style="text-align: left;">0.04</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Una vez identificada las diferencias estadisticas se procede a realizar pruebas de promedio para seleccionar genotipos sobresalientes.</p>
<p>Hay otra manera de representar comparaciones graficamente</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/agridata/index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="1056"></p>
</div>
</div>
<p>Tambien existe otra opción con el paquete <code>AgroR</code></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/agridata/index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----------------------------------------------------------------
Normality of errors
-----------------------------------------------------------------
                         Method Statistic   p.value
 Shapiro-Wilk normality test(W) 0.9878974 0.2188639


-----------------------------------------------------------------
Homogeneity of Variances
-----------------------------------------------------------------
                              Method Statistic      p.value
 Bartlett test(Bartlett's K-squared)   16.0057 0.0003345076


-----------------------------------------------------------------
Independence from errors
-----------------------------------------------------------------
                 Method Statistic   p.value
 Durbin-Watson test(DW)  2.043002 0.5401261


-----------------------------------------------------------------
Additional Information
-----------------------------------------------------------------

CV (%) =  8.81
MStrat/MST =  0.99
Mean =  5.8433
Median =  5.8
Possible outliers =  107

-----------------------------------------------------------------
Analysis of Variance
-----------------------------------------------------------------
           Df   Sum Sq    Mean.Sq  F value        Pr(F)
trat        2 63.21213 31.6060667 119.2645 1.669669e-31
Residuals 147 38.95620  0.2650082                      




-----------------------------------------------------------------
Multiple Comparison Test: Tukey HSD
-----------------------------------------------------------------
            resp groups
virginica  6.588      a
versicolor 5.936      b
setosa     5.006      c</code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/agridata/index_files/figure-html/unnamed-chunk-15-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="análisis-multivariado" class="level2">
<h2 class="anchored" data-anchor-id="análisis-multivariado">Análisis multivariado</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
-------------------------------------------------------------------------------
Principal Component Analysis
-------------------------------------------------------------------------------
# A tibble: 22 × 4
   PC    Eigenvalues `Variance (%)` `Cum. variance (%)`
   &lt;chr&gt;       &lt;dbl&gt;          &lt;dbl&gt;               &lt;dbl&gt;
 1 PC1         14.2            64.4                64.4
 2 PC2          5.24           23.8                88.2
 3 PC3          2.58           11.8               100  
 4 PC4          0               0                 100  
 5 PC5          0               0                 100  
 6 PC6          0               0                 100  
 7 PC7          0               0                 100  
 8 PC8          0               0                 100  
 9 PC9          0               0                 100  
10 PC10         0               0                 100  
# … with 12 more rows
-------------------------------------------------------------------------------
Factor Analysis - factorial loadings after rotation-
-------------------------------------------------------------------------------
# A tibble: 22 × 6
   VAR     FA1   FA2   FA3 Communality Uniquenesses
   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
 1 NNCF  -0.72 -0.67 -0.17           1            0
 2 WNCF  -0.65 -0.75 -0.14           1            0
 3 AWNCF  0.63  0.49  0.6            1            0
 4 WUE    1     0.04  0.03           1            0
 5 NDBF  -0.11  0.07 -0.99           1            0
 6 NDFF  -0.16 -0.24 -0.96           1            0
 7 NDBH  -0.17  0.07 -0.98           1            0
 8 PHYL   0.6   0.79 -0.12           1            0
 9 TA     0.84  0.1   0.54           1            0
10 NCF   -0.84 -0.42 -0.35           1            0
# … with 12 more rows
-------------------------------------------------------------------------------
Comunalit Mean: 1 
-------------------------------------------------------------------------------
Selection differential 
-------------------------------------------------------------------------------
# A tibble: 22 × 8
   VAR    Factor       Xo       Xs        SD  SDperc sense     goal
   &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;
 1 NNCF   FA1        7.20     7.86    0.650    9.02  increase   100
 2 AWNCF  FA1        8.74     8.70   -0.0425  -0.486 increase     0
 3 WUE    FA1      116.     101.    -15.0    -12.9   increase     0
 4 TA     FA1        1.42     1.35   -0.0700  -4.93  increase     0
 5 NCF    FA1       23.5     25.0     1.52     6.48  increase   100
 6 TNF    FA1       30.7     32.8     2.16     7.04  increase   100
 7 WCF    FA1      359.     395.     36.9     10.3   increase   100
 8 TWF    FA1      413.     442.     29.1      7.05  increase   100
 9 FY     FA1    30957.   33137.   2180.       7.04  increase   100
10 TSS_TA FA1        5.39     5.66    0.268    4.96  increase   100
# … with 12 more rows
------------------------------------------------------------------------------
Selected genotypes
-------------------------------------------------------------------------------
NAC_CAM IMP_ALB
-------------------------------------------------------------------------------</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Joining, by = "VAR"</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/agridata/index_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="1056"></p>
</div>
</div>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2023,
  author = {Santos, Franklin},
  title = {Análisis de Datos Experimentales Agrícolas},
  date = {2023-01-01},
  url = {https://franklinsantosm.com/posts/agridata},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2023" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2023. <span>“Análisis de Datos Experimentales
Agrícolas.”</span> January 1, 2023. <a href="https://franklinsantosm.com/posts/agridata">https://franklinsantosm.com/posts/agridata</a>.
</div></div></section></div> ]]></description>
  <category>agridata</category>
  <category>data science</category>
  <category>bioinformatic</category>
  <guid>https://franklinsantosm.com/posts/agridata/index.html</guid>
  <pubDate>Sun, 01 Jan 2023 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/agridata/pic.png" medium="image" type="image/png" height="65" width="144"/>
</item>
<item>
  <title>Análisis de Componentes Principales</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/componentes_principales/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>El <strong>análisis de componentes principales (PCA)</strong> nos permite resumir y visualizar la información en un conjunto de datos que contiene individuos/observaciones descritos por múltiples variables cuantitativas inter-correlacionadas. Cada variable podría considerarse como una dimensión diferente. Si tiene más de 3 variables en sus conjuntos de datos, podría ser muy difícil visualizar un hiperespacio multidimensional.</p>
<p>El análisis de componentes principales se utiliza para extraer la información importante de una tabla de datos multivariados y para expresar esta información como un conjunto de algunas variables nuevas llamadas <strong>componentes principales</strong>. Estas nuevas variables corresponden a una combinación lineal de las originales. El número de componentes principales es menor o igual al número de variables originales.</p>
<p>La información de un conjunto de datos dado corresponde a la <em>variación total</em> que contiene. El objetivo de PCA es identificar direcciones (o componentes principales) a lo largo de los cuales la variación en los datos es máxima.</p>
<p>En otras palabras, PCA reduce la dimensionalidad de un dato multivariado a dos o tres componentes principales, que se pueden visualizar gráficamente, con una mínima pérdida de información.</p>
<blockquote class="blockquote">
<p>En este capítulo, describimos la idea básica de PCA y demostramos cómo calcular y visualizar PCA usando el software R. Además, mostraremos cómo identificar las variables más importantes que explican las variaciones en un conjunto de datos.</p>
</blockquote>
<p>En conjunto, el objetivo principal del análisis de componentes principales es:</p>
<blockquote class="blockquote">
<ul>
<li>identificar patrones ocultos en un conjunto de datos,</li>
<li>reducir la dimensionalidad de los datos <strong>eliminando el ruido</strong> y la <strong>redundancia</strong> en los datos,</li>
<li>identificar variables correlacionadas</li>
</ul>
</blockquote>
</section>
<section id="metodología-de-análisis" class="level2">
<h2 class="anchored" data-anchor-id="metodología-de-análisis">Metodología de análisis</h2>
<p>Instale los dos paquetes de la siguiente manera:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FactoMineR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"factoextra"</span>))</span></code></pre></div>
</div>
<p>Cargar paquetes en R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FactoMineR"</span>)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"factoextra"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: ggplot2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Welcome! Want to learn more? See two factoextra-related books at https://goo.gl/ve3WBa</code></pre>
</div>
</div>
<section id="cargando-datos" class="level3">
<h3 class="anchored" data-anchor-id="cargando-datos">Cargando datos</h3>
<p>Usaremos los conjuntos de datos de demostración <strong>decathlon2</strong> del paquete <code>factoextra</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data</span>(decathlon2)</span>
<span id="cb5-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#head(decathlon2)</span></span></code></pre></div>
</div>
<p>De esta base de datos seleccionamos variables cuantitativas para el análisis de componentes principales:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#seleccionamos 27 filas y las primeras 10 variables</span></span>
<span id="cb6-2">decathlon2.active <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> decathlon2[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>]</span>
<span id="cb6-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(decathlon2.active[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>], <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        X100m Long.jump Shot.put High.jump X400m X110m.hurdle Discus
SEBRLE  11.04      7.58    14.83      2.07 49.81        14.69  43.75
CLAY    10.76      7.40    14.26      1.86 49.37        14.05  50.72
BERNARD 11.02      7.23    14.25      1.92 48.93        14.99  40.87
YURKOV  11.34      7.09    15.19      2.10 50.42        15.31  46.26</code></pre>
</div>
</div>
</section>
<section id="código-r" class="level3">
<h3 class="anchored" data-anchor-id="código-r">Código R</h3>
<p>Se puede utilizar la función <code>PCA()</code> [paquete <em>FactoMineR</em>]. Un formato simplificado es:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">PCA</span>(X, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale.unit =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncp =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">graph =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
</div>
<blockquote class="blockquote">
<ul>
<li><strong>X</strong>: un marco de datos. Las filas son individuos y las columnas son variables numéricas</li>
<li><strong>scale.unit</strong>: un valor lógico. Si es <code>TRUE</code>, los datos se escalan a la varianza de la unidad antes del análisis. Esta estandarización a la misma escala evita que algunas variables se conviertan en dominantes solo por sus grandes unidades de medida. Hace que la variable sea comparable.</li>
<li><strong>ncp</strong>: número de dimensiones mantenidas en los resultados finales.</li>
<li><strong>graph</strong>: un valor lógico. Si es <code>TRUE</code>, se muestra un gráfico.</li>
</ul>
</blockquote>
<p>El código R a continuación, calcula el análisis de componentes principales de las variables seleccionadas o activas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FactoMineR"</span>)</span>
<span id="cb9-2">res.pca <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">PCA</span>(decathlon2.active, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">graph =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
</div>
<blockquote class="blockquote">
<p>El objeto que se crea usando la función <code>PCA()</code> contiene mucha información que se encuentra en muchas listas y matrices diferentes. Estos valores se describen en la siguiente sección.</p>
</blockquote>
</section>
<section id="extraiga-y-visualice-valores-propiosvarianzas" class="level3">
<h3 class="anchored" data-anchor-id="extraiga-y-visualice-valores-propiosvarianzas">Extraiga y visualice valores propios/varianzas:</h3>
<p>Los valores propios o varianzas miden la cantidad de variación retenida por cada componente principal. Las varianzas son grandes para los primeros componentes y pequeños para las siguientes. Es decir, las primeras PC corresponden a las direcciones con la cantidad máxima de variación en el conjunto de datos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extraer valores propios/varianzas</span></span>
<span id="cb10-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_eig</span>(res.pca)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       eigenvalue variance.percent cumulative.variance.percent
Dim.1   4.1242133        41.242133                    41.24213
Dim.2   1.8385309        18.385309                    59.62744
Dim.3   1.2391403        12.391403                    72.01885
Dim.4   0.8194402         8.194402                    80.21325
Dim.5   0.7015528         7.015528                    87.22878
Dim.6   0.4228828         4.228828                    91.45760
Dim.7   0.3025817         3.025817                    94.48342
Dim.8   0.2744700         2.744700                    97.22812
Dim.9   0.1552169         1.552169                    98.78029
Dim.10  0.1219710         1.219710                   100.00000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Visualizar valores propios/variaciones</span></span>
<span id="cb12-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_screeplot</span>(res.pca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">addlabels =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/componentes_principales/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>La suma de todos los valores propios da una varianza total de 10.</p>
<p>La proporción de variación explicada por cada valor propio se da en la segunda columna. Por ejemplo, 4,124 dividido por 10 es igual a 0,4124, o aproximadamente el 41,24% de la variación se explica por este primer valor propio. El porcentaje acumulado explicado se obtiene sumando las sucesivas proporciones de variación explicadas para obtener el total acumulado. Por ejemplo, 41,242% más 18,385% es igual a 59,627%, y así sucesivamente. Por lo tanto, aproximadamente el 59,627% de la variación se explica por los dos primeros valores propios juntos.</p>
<p>Los valores propios se pueden utilizar para determinar la cantidad de componentes principales que se deben retener después de la PCA (Kaiser 1961):</p>
<blockquote class="blockquote">
<ul>
<li>Un <em>valor propio</em> &gt; 1 indica que los PCs representan más varianza que la contabilizada por una de las variables originales en los datos estandarizados. Esto se usa comúnmente como un punto de corte para el cual se retienen las PCs. Esto es válido solo cuando los datos están estandarizados.</li>
<li>También puede limitar el número de componentes a ese número que representa una cierta fracción de la varianza total. Por ejemplo, si está satisfecho con el 70% de la varianza total explicada, utilice el número de componentes para lograrlo.</li>
</ul>
</blockquote>
<p>Desafortunadamente, no existe una forma objetiva bien aceptada de decidir cuántos componentes principales son suficientes. Esto dependerá del campo de aplicación específico y del conjunto de datos específico. En la práctica, tendemos a mirar los primeros componentes principales para encontrar patrones interesantes en los datos.</p>
<p>En nuestro análisis, los tres primeros componentes principales explican el 72% de la variación. Este es un porcentaje aceptablemente grande.</p>
</section>
<section id="gráfica-círculo-de-correlación" class="level3">
<h3 class="anchored" data-anchor-id="gráfica-círculo-de-correlación">Gráfica círculo de correlación</h3>
<p>La correlación entre una variable y un componente principal (PC) se utiliza como coordenadas de la variable en la PC. La representación de las variables difiere del gráfico de las observaciones: las observaciones están representadas por sus proyecciones, pero las variables están representadas por sus correlaciones (Abdi y Williams 2010).</p>
<p>Es posible controlar los colores de las variables usando sus contribuciones (“contrib”) a los ejes principales:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Control variable colors using their contributions</span></span>
<span id="cb13-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_pca_var</span>(res.pca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col.var=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contrib"</span>,</span>
<span id="cb13-3">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">gradient.cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#00AFBB"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#E7B800"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#FC4E07"</span>),</span>
<span id="cb13-4">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repel =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Avoid text overlapping</span></span>
<span id="cb13-5">             )</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/componentes_principales/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>La gráfica anterior también se conoce como gráficas de correlación variable. Muestra las relaciones entre todas las variables. Se puede interpretar de la siguiente manera:</p>
<ul>
<li>Las variables correlacionadas positivamente se agrupan.</li>
<li>Las variables correlacionadas negativamente se colocan en lados opuestos del origen de la gráfica (cuadrantes opuestos).</li>
<li>La distancia entre las variables y el origen mide la calidad de las variables en el mapa de factores. Las variables que están lejos del origen están bien representadas en el mapa de factores.</li>
</ul>
</section>
<section id="contribucion-de-las-variables-a-los-ejes-principales" class="level3">
<h3 class="anchored" data-anchor-id="contribucion-de-las-variables-a-los-ejes-principales">Contribucion de las variables a los ejes principales:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Contributions of variables to PC1</span></span>
<span id="cb14-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_contrib</span>(res.pca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">choice =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"var"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axes =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">top =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/componentes_principales/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Contributions of variables to PC2</span></span>
<span id="cb15-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_contrib</span>(res.pca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">choice =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"var"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axes =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">top =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/componentes_principales/index_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>La línea discontinua roja en el gráfico anterior indica la contribución promedio esperada. Si la contribución de las variables fuera uniforme, el valor esperado sería 1/longitud(variables) = 1/10 = 10%. Para un componente dado, una variable con una contribución mayor que este límite podría considerarse importante para contribuir al componente.</p>
<blockquote class="blockquote">
<p>Se puede observar que las variables <code>X100m</code>, <code>Long.jump</code> y <code>Pole.vault</code> contribuyen más a las dimensiones 1 y 2.</p>
</blockquote>
</section>
<section id="biplot" class="level3">
<h3 class="anchored" data-anchor-id="biplot">Biplot</h3>
<p>Para hacer un biplot simple de individuos y variables, escriba esto:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Biplot of individuals and variables</span></span>
<span id="cb16-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_pca_biplot</span>(res.pca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repel =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/componentes_principales/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>En biplot, debe centrarse principalmente en la dirección de las variables pero no en sus posiciones absolutas en la gráfica.</p>
<p>En términos generales, un biplot se puede interpretar de la siguiente manera:</p>
<ul>
<li>un individuo que está en el mismo lado de una variable dada tiene un valor alto para esta variable;</li>
<li>un individuo que está en el lado opuesto de una variable dada tiene un valor bajo para esta variable.</li>
</ul>
<p>Nota: Este post fue extraido del libro <strong>“Multivariate Analisis II”</strong></p>
</section>
</section>
<section id="referencias" class="level2">
<h2 class="anchored" data-anchor-id="referencias">Referencias</h2>
<p>Kassambara A. 2017. Multivariate Analysis: Practical Guide to Principal Component Methods in R.</p>


</section>

 ]]></description>
  <category>Biplot</category>
  <category>Componentes Principales</category>
  <category>Correlation</category>
  <guid>https://franklinsantosm.com/posts/componentes_principales/index.html</guid>
  <pubDate>Tue, 15 Dec 2020 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/componentes_principales/featured.png" medium="image" type="image/png" height="125" width="144"/>
</item>
<item>
  <title>Análisis de Varianza y Prueba de Promedios en R</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/anova/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>El análisis de varianza es una prueba estadística para determinar si dos o más medias poblacionales son diferentes entre si. En otras palabras, se usa para comparar dos o más grupos para ver si son significativamente diferentes.</p>
<p>En el resto del post lo comentaremos desde un punto de vista más práctico y en particular abordaremos los siguientes puntos:</p>
<ul>
<li>el objetivo del análisis de varianza y cuándo debe usarse</li>
<li>cómo realizar el ANVA en R</li>
<li>cómo interpretar los resultados del ANVA</li>
<li>comprender la noción de prueba de promedios e interpretar los resultados</li>
<li>cómo visualizar los resultados de ANVA y pruebas de promedio</li>
</ul>
</section>
<section id="datos" class="level2">
<h2 class="anchored" data-anchor-id="datos">Datos</h2>
<p>El dato que se utilizará es <code>iris</code>, que se encuentra en la base de datos de R. Estos datos como tratamientos tienen tres especies (<code>setosa</code>, <code>versicolor</code> y <code>virginica</code>) y cuatro variables (<code>Sepal.Length</code>, <code>Sepal.Width</code>, <code>Petal.Length</code> y <code>Petal.Width</code>) cuantitativas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#paquetes R a utilizar</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(easyanova)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(car)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(lattice)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(multcomp)</span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggpubr)</span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(rstatix)</span></code></pre></div>
</div>
<p>La librería de <code>easyanova</code> es un paquete para realizar análisis de experimentos agrícolas y animales. Las funciones de esta librería son fáciles de usar. Realiza análisis en varios diseños, con datos balanceados y no balanceados.</p>
<p>Salida de datos a utilizar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#datos</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(iris)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 150 × 5
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
 1          5.1         3.5          1.4         0.2 setosa 
 2          4.9         3            1.4         0.2 setosa 
 3          4.7         3.2          1.3         0.2 setosa 
 4          4.6         3.1          1.5         0.2 setosa 
 5          5           3.6          1.4         0.2 setosa 
 6          5.4         3.9          1.7         0.4 setosa 
 7          4.6         3.4          1.4         0.3 setosa 
 8          5           3.4          1.5         0.2 setosa 
 9          4.4         2.9          1.4         0.2 setosa 
10          4.9         3.1          1.5         0.1 setosa 
# … with 140 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#inspección de datos</span></span>
<span id="cb4-2">p <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(iris) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Species, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Sepal.Width, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> Species) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_jitter</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span>
<span id="cb4-6"></span>
<span id="cb4-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(plotly)</span>
<span id="cb4-8">fig <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplotly</span>(p)</span>
<span id="cb4-9"></span>
<span id="cb4-10">fig</span></code></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-ce796eba51cdec99cccc" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ce796eba51cdec99cccc">{"x":{"data":[{"x":[0.955489985272288,0.69596754796803,0.872744095139205,1.37154724691063,1.18982841782272,1.18485031872988,1.07471461687237,0.671208545938134,0.796806747838855,1.09080755598843,0.715368576161563,1.10857377462089,1.16407545655966,1.00408339891583,0.960473902523518,1.24924752898514,0.929630785994232,0.965769836120307,0.873710967600346,1.05325581096113,0.722965094447136,1.19477898329496,0.732604693621397,0.956151522882283,1.39326435122639,0.870359304361045,0.795355080068111,1.17964635770768,1.07724730297923,1.3198099186644,0.846006971411407,0.728493247553706,1.08080704305321,1.07816332317889,1.18180160243064,1.02003907039762,1.29900873694569,0.79017689768225,0.690972563065589,0.653491246700287,1.26049577575177,0.835418589785695,0.675010156445205,0.683341466076672,1.28932571411133,1.06717066187412,0.797120808809996,0.617270628735423,1.03881051000208,0.849415248073637],"y":[3.50631731214002,3.03980338184163,3.21122351035476,3.06824044775218,3.63001142516732,3.91672568790615,3.42521944174543,3.42616622693837,2.88369217891246,3.09003512697294,3.68191356532276,3.43563361115754,2.99185226591304,2.97288805555552,3.98301889160648,4.38861818104982,3.90696409191936,3.51318989928812,3.78660068098456,3.78366718813777,3.36926085611805,3.68536903968081,3.57256909949705,3.27290266914293,3.40810191255063,3.02165879512206,3.3640852092579,3.51783674919978,3.4154662810266,3.23335809247568,3.07524983061478,3.37908992584795,4.0917848127149,4.23337861601263,3.08799442054704,3.17795460540801,3.53284207388759,3.58455985810608,2.98055924767628,3.37001699445769,3.53115693381056,2.27903330076486,3.1826905830577,3.52962481902912,3.77750206869096,3.0158647843264,3.83037431018427,3.21043754372746,3.71425311816856,3.29103707348928],"text":["Species: setosa<br />Sepal.Width: 3.5<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.0<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.2<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.1<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.6<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.9<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 2.9<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.1<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.7<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.0<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.0<br />Species: setosa","Species: setosa<br />Sepal.Width: 4.0<br />Species: setosa","Species: setosa<br />Sepal.Width: 4.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.9<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.5<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.8<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.8<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.7<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.6<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.3<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.0<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.5<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.2<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.1<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 4.1<br />Species: setosa","Species: setosa<br />Sepal.Width: 4.2<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.1<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.2<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.5<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.6<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.0<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.4<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.5<br />Species: setosa","Species: setosa<br />Sepal.Width: 2.3<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.2<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.5<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.8<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.0<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.8<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.2<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.7<br />Species: setosa","Species: setosa<br />Sepal.Width: 3.3<br />Species: setosa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"setosa","legendgroup":"setosa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.98575436025858,1.65704542603344,1.69643614850938,1.88404482025653,1.79750677160919,2.32684564273804,2.0777678783983,2.37648473586887,1.62379084415734,1.87750804964453,2.27994336057454,2.06168957278132,2.1593329584226,2.35229795239866,1.61459012553096,2.25976224914193,2.27587170954794,2.22675132192671,1.85142534039915,2.343130579032,2.18243980668485,2.09703622534871,2.35282220784575,2.37990624327213,1.92539692092687,1.85408688466996,1.85520363114774,2.00358609389514,2.25428008548915,1.64764319453388,1.87784673944116,2.10629031900316,1.72818292677402,2.08411338180304,1.67119427248836,1.70073127727956,1.72040430326015,2.29853434115648,1.86684809494764,1.92762438151985,1.64678645189852,1.7544084765017,1.66083756908774,1.76239741202444,1.99948426485062,2.03867296241224,2.23486524950713,2.29505056161433,2.2780677171424,2.18210489097983],"y":[3.22673038149253,3.21740653986111,3.11246656320989,2.31395376263186,2.81461090203375,2.7715633392334,3.26894200617447,2.37512286137789,2.87120203921571,2.67804366024211,2.00165280859917,3.03360419228673,2.21060016524047,2.91426240833476,2.8617695113644,3.12927222000435,2.98976560164243,2.69149581743404,2.20722408877686,2.51943185236305,3.17729272313416,2.79292995044962,2.50693609600887,2.80453233862296,2.88101563656703,2.96651865307242,2.82820373006165,3.02139394303784,2.91122639821842,2.62594658061862,2.4161018198356,2.43595328439027,2.70208153298125,2.67285722168163,3.03371463483199,3.39820732880384,3.09429406447336,2.33641918918118,2.98153216639534,2.46690946148708,2.6315272217989,2.96977794157341,2.62984454257414,2.2778191251494,2.7097911686264,2.98477831603959,2.93264201844111,2.88861168203875,2.48453970937058,2.82303074650466],"text":["Species: versicolor<br />Sepal.Width: 3.2<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.2<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.1<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.3<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.8<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.8<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.3<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.4<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.9<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.7<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.2<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.9<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.9<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.1<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.7<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.2<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.5<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.2<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.8<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.5<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.8<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.9<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.8<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.9<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.6<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.4<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.4<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.7<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.7<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.4<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.1<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.3<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.5<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.6<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.6<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.3<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.7<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 3.0<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.9<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.9<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.5<br />Species: versicolor","Species: versicolor<br />Sepal.Width: 2.8<br />Species: versicolor"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"versicolor","legendgroup":"versicolor","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.31285714171827,2.96917729191482,3.12584995962679,3.03489196468145,2.91164683084935,3.02871746439487,3.23502848669887,2.8387076633051,3.13417286574841,2.88790512364358,2.96452687084675,2.66100040748715,3.23082562536001,3.26379421446472,2.82367673106492,2.78372948337346,3.36439338531345,3.18961681779474,3.01165460590273,2.62015309631825,2.99721660185605,3.16076059751213,2.82472273241729,3.21496488675475,3.12446528244764,3.33240485824645,3.06299204565585,3.04099519737065,2.99668236542493,2.87690150272101,2.89335476253182,3.32206505872309,3.10044552125037,2.89112205728888,3.08990203253925,3.13904165718704,2.65614640507847,2.98130898699164,2.67316546346992,2.8970636934042,2.68859927561134,3.19041553400457,3.22391232866794,3.08675300162286,2.6807563258335,2.89315888341516,2.88883519656956,3.03150648195297,2.82114773932844,3.30126214101911],"y":[3.29702186102048,2.71418977934867,2.97998535593972,2.86967911580577,2.99293436808512,2.99792596561834,2.50288478374481,2.92031901147217,2.46463713280857,3.57038165098056,3.21803815329447,2.70059397779405,3.00064153965563,2.51488465702161,2.8024927120842,3.16376272052526,3.01438315687701,3.76381353907287,2.63757625982165,2.18149897512049,3.23106089988723,2.83001978378743,2.76637466538697,2.67490342603996,3.29247707050294,3.20540515540168,2.76055101186037,3.03242176936939,2.82961036030203,3.0015026877448,2.8062324882485,3.80438729433343,2.76052807467058,2.76543769592419,2.56257939739153,2.97139225639403,3.39768541567028,3.08581962963566,3.02142047701403,3.12112854130566,3.06640320904553,3.10401457170025,2.68075296983123,3.20875245833769,3.32209550116211,2.9787341620028,2.50897728884593,3.03706670355052,3.38377638354897,3.03615347370505],"text":["Species: virginica<br />Sepal.Width: 3.3<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.7<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.9<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.5<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.9<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.5<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.6<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.2<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.7<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.5<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.2<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.6<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.2<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.2<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.7<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.3<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.2<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.8<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.6<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.4<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.1<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.1<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.1<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.1<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.7<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.2<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.3<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 2.5<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.4<br />Species: virginica","Species: virginica<br />Sepal.Width: 3.0<br />Species: virginica"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"virginica","legendgroup":"virginica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":43.1050228310502},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["setosa","versicolor","virginica"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["setosa","versicolor","virginica"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Species","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.88230453997664,4.50796644967236],"tickmode":"array","ticktext":["2.0","2.5","3.0","3.5","4.0","4.5"],"tickvals":[2,2.5,3,3.5,4,4.5],"categoryorder":"array","categoryarray":["2.0","2.5","3.0","3.5","4.0","4.5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Sepal.Width","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1c672f0bc001":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"1c672f0bc001","visdat":{"1c672f0bc001":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="objetivo-del-anva" class="level2">
<h2 class="anchored" data-anchor-id="objetivo-del-anva">Objetivo del ANVA</h2>
<p>Como se mencionó en la introducción, el ANVA se usa para comparar grupos (en la práctica, 3 o más grupos). De manera más general, se utiliza para:</p>
<ul>
<li>estudiar si las mediciones son similares en diferentes modalidades (también llamadas niveles o tratamientos en el contexto de ANVA) de una variable categórica</li>
<li>comparar el impacto de los diferentes niveles de una variable categórica sobre una variable cuantitativa</li>
<li>explicar una variable cuantitativa basada en una variable cualitativa</li>
</ul>
</section>
<section id="supuestos-subyacentes-de-anva" class="level2">
<h2 class="anchored" data-anchor-id="supuestos-subyacentes-de-anva">Supuestos subyacentes de ANVA</h2>
<p>Como ocurre con muchas pruebas estadísticas, hay algunas suposiciones que deben cumplirse para poder interpretar los resultados. Cuando no se cumplen uno o varios supuestos, aunque técnicamente es posible realizar estas pruebas, sería incorrecto interpretar los resultados y confiar en las conclusiones.</p>
<section id="tipo-de-variable" class="level3">
<h3 class="anchored" data-anchor-id="tipo-de-variable">1. Tipo de variable</h3>
<p>Las variables dependientes <code>Sepal.Length</code>, <code>Sepal.Width</code>, <code>Petal.Length</code> y <code>Petal.Width</code> es una variable <strong>cuantitativa</strong> y la variable independiente <code>Species</code> es <strong>cualitativa</strong> (con 3 niveles correspondientes a las 3 especies). Así que tenemos una combinación de los dos tipos de variables y se cumple este supuesto.</p>
</section>
<section id="independencia" class="level3">
<h3 class="anchored" data-anchor-id="independencia">2. Independencia</h3>
<p>Se asume la independencia de las observaciones ya que los datos se han recopilado de una parte de la población seleccionada al azar y las mediciones dentro y entre las 3 muestras no están relacionadas.</p>
<p>El supuesto de independencia se verifica con mayor frecuencia con base en el diseño del experimento y en el buen control de las condiciones experimentales, como es el caso aquí. Sin embargo, si realmente desea probarlo de manera más formal, puede probarlo mediante una prueba estadística: la prueba de Durbin-Watson (en R: <code>durbinWatsonTest(res_lm)</code> donde <code>res_lm</code> es un modelo lineal). La hipótesis nula de esta prueba especifica un coeficiente de autocorrelación = 0, mientras que la hipótesis alternativa especifica un coeficiente de autocorrelación ≠ 0.</p>
</section>
<section id="normalidad" class="level3">
<h3 class="anchored" data-anchor-id="normalidad">3. Normalidad</h3>
<p>Recuerde que la <strong>normalidad</strong> de los residuos se puede probar visualmente mediante un histograma y un gráfico QQ, y/o formalmente mediante una prueba de normalidad (prueba de Shapiro-Wilk, por ejemplo).</p>
<p>Antes de verificar el supuesto de normalidad, primero debemos calcular el ANVA. Luego guardamos los resultados en <code>res_aov</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">res_aov <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aov</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species,</span>
<span id="cb5-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris</span>
<span id="cb5-3">)</span></code></pre></div>
</div>
<p>Ahora podemos comprobar la normalidad visualmente:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">par</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mfrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># combine plots</span></span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># histogram</span></span>
<span id="cb6-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hist</span>(res_aov<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>residuals)</span>
<span id="cb6-5"></span>
<span id="cb6-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># QQ-plot</span></span>
<span id="cb6-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qqPlot</span>(res_aov<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>residuals,</span>
<span id="cb6-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># id = FALSE to remove point identification</span></span>
<span id="cb6-9">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/anova/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A partir del histograma y el gráfico QQ anteriores, ya podemos ver que el supuesto de normalidad parece cumplirse. De hecho, el histograma forma aproximadamente una curva de campana, lo que indica que los residuos siguen una distribución normal. Además, los puntos en las gráficas QQ siguen aproximadamente la línea recta y la mayoría de ellos están dentro de las bandas de confianza, lo que también indica que los residuos siguen aproximadamente una distribución normal.</p>
<p>Algunos investigadores se detienen aquí y asumen que se cumple la normalidad, mientras que otros también prueban la suposición a través de una prueba estadística formal. Es su elección probarlo <em>(i)</em> solo visualmente, <em>(ii)</em> solo a través de una prueba de normalidad, o <em>(iii)</em> tanto visualmente como a través de una prueba de normalidad. Sin embargo, tenga en cuenta los dos puntos siguientes:</p>
<blockquote class="blockquote">
<ol type="1">
<li>ANVA es bastante robusto a pequeñas desviaciones de la normalidad. Esto significa que no es un problema (desde la perspectiva de la interpretación de los resultados de ANVA) si un pequeño número de puntos se desvía ligeramente de la normalidad,</li>
<li>Las pruebas de normalidad son a veces bastante conservadoras, lo que significa que la hipótesis nula de normalidad puede rechazarse debido a una desviación limitada de la normalidad. Este es especialmente el caso con muestras grandes, ya que la potencia de la prueba aumenta con el tamaño de la muestra.</li>
</ol>
</blockquote>
<p>En la práctica, se tiende a preferir el (i) enfoque visual solamente, pero nuevamente, esto es una cuestión de elección personal y también depende del contexto del análisis. Tambien, puede utilizar la prueba de Shapiro-Wilk o la prueba de Kolmogorov-Smirnov, entre otras.</p>
</section>
<section id="igualdad-de-varianzas---homogeneidad" class="level3">
<h3 class="anchored" data-anchor-id="igualdad-de-varianzas---homogeneidad">4. Igualdad de varianzas - homogeneidad</h3>
<p>Suponiendo que los residuos siguen una distribución normal, ahora es el momento de comprobar si las varianzas son iguales entre especies o no. El resultado tendrá un impacto en si usamos el ANVA o la prueba de Welch.</p>
<p>Esto se puede verificar nuevamente visualmente, a través de una gráfica de caja o gráfica de puntos, o más formalmente a través de una prueba estadística (la prueba de Levene, entre otras).</p>
<p>Visualmente tenemos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Boxplot</span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species,</span>
<span id="cb7-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris</span>
<span id="cb7-4">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/anova/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Dotplot</span></span>
<span id="cb8-2"></span>
<span id="cb8-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dotplot</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species,</span>
<span id="cb8-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris</span>
<span id="cb8-5">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/anova/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Tanto la gráfica de boxplot como la gráfica de puntos muestran una variación similar para las diferentes especies. En el boxplot, esto se puede ver por el hecho de que las cajas y los bigotes tienen un tamaño comparable para todas las especies. Hay un par de valores atípicos como lo muestran los puntos fuera de los bigotes, pero esto no cambia el hecho de que la dispersión es más o menos la misma entre las diferentes especies.</p>
<p>En la gráfica de puntos, esto se puede ver por el hecho de que los puntos para las 3 especies tienen más o menos el mismo rango, un signo de la dispersión y, por lo tanto, la varianza es similar.</p>
<p>Al igual que el supuesto de normalidad, si cree que el enfoque visual no es suficiente, puede probar formalmente la igualdad de las varianzas con una prueba de <em>Levene</em> o de <em>Bartlett</em>. Observe que la prueba de Levene es menos sensible a las desviaciones de la distribución normal que la prueba de Bartlett.</p>
<p>Las hipótesis nula y alternativa para ambas pruebas son:</p>
<ul>
<li>H0: las variaciones son iguales</li>
<li>H1: al menos una varianza es diferente</li>
</ul>
<p>En R, la prueba de Levene se puede realizar gracias a la función <code>leveneTest()</code> del paquete <code>{car}</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Levene's test</span></span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leveneTest</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species,</span>
<span id="cb9-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris</span>
<span id="cb9-5">)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Levene's Test for Homogeneity of Variance (center = median)
       Df F value Pr(&gt;F)
group   2  0.5902 0.5555
      147               </code></pre>
</div>
</div>
<p>Siendo el <em>p</em>-valor mayor que el nivel de significancia de 0.05, no rechazamos la hipótesis nula, por lo que no podemos rechazar la hipótesis de que las varianzas son iguales entre especies (<em>p</em>-valor = 0.556).</p>
<p>Este resultado también está en línea con el enfoque visual, por lo que la homogeneidad de las variaciones se cumple tanto visual como formalmente.</p>
</section>
</section>
<section id="análisis-de-varianza-en-r" class="level2">
<h2 class="anchored" data-anchor-id="análisis-de-varianza-en-r">Análisis de varianza en R</h2>
<p>El ANVA puede ayudarnos a hacer inferencias sobre la población dada la muestra en cuestión y ayudarnos a responder la pregunta de investigación “¿Existe diferencia en ancho de sépalo para las 3 especies?”.</p>
<p>El ANVA en R se puede realizar de varias formas, de las cuales tres se presentan a continuación:</p>
<p>a). Con la función <code>oneway.test()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># primer metodo:</span></span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">oneway.test</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species,</span>
<span id="cb11-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris,</span>
<span id="cb11-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">var.equal =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># asumiendo varianzas iguales</span></span>
<span id="cb11-5">)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One-way analysis of means

data:  Sepal.Width and Species
F = 49.16, num df = 2, denom df = 147, p-value &lt; 2.2e-16</code></pre>
</div>
</div>
<p>b). Con las funciones de <code>summary()</code> y <code>aov()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2nd method:</span></span>
<span id="cb13-2">res_aov <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aov</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species,</span>
<span id="cb13-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris</span>
<span id="cb13-4">)</span>
<span id="cb13-5"></span>
<span id="cb13-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(res_aov)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             Df Sum Sq Mean Sq F value Pr(&gt;F)    
Species       2  11.35   5.672   49.16 &lt;2e-16 ***
Residuals   147  16.96   0.115                   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Como puede ver en los dos resultados anteriores, la estadística de prueba (F = en el primer método y el valor F en el segundo) y el <em>p</em>-valor (<em>p</em>-valor en el primer método y Pr (&gt; F) en el segundo) son exactamente iguales para ambos métodos, lo que significa que en caso de variaciones iguales, los resultados y las conclusiones no cambiarán.</p>
<p>La ventaja del primer método es que es fácil cambiar del ANVA (utilizado cuando las variaciones son iguales) a la prueba de Welch (utilizado cuando las variaciones son desiguales). Esto se puede hacer reemplazando <code>nvar.equal = TRUE</code> por <code>var.equal = FALSE</code>, como se presenta a continuación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">oneway.test</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species,</span>
<span id="cb15-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris,</span>
<span id="cb15-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">var.equal =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># asumiendo variaciones desiguales</span></span>
<span id="cb15-4">)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One-way analysis of means (not assuming equal variances)

data:  Sepal.Width and Species
F = 45.012, num df = 2.000, denom df = 97.402, p-value = 1.433e-14</code></pre>
</div>
</div>
<p>Sin embargo, la ventaja del segundo método es que:</p>
<ul>
<li>Se imprime la tabla ANVA completa (con grados de libertad, cuadrados medios, etc.), lo que puede ser de interés en algunos casos (teóricos).</li>
<li>los resultados del ANVA (<code>res_aov</code>) se pueden guardar para su uso posterior (especialmente útil para pruebas de promedio)</li>
</ul>
<section id="interpretaciones-de-los-resultados-del-anva" class="level3">
<h3 class="anchored" data-anchor-id="interpretaciones-de-los-resultados-del-anva">Interpretaciones de los resultados del ANVA</h3>
<p>Dado que el p-valor es menor que 0.05, rechazamos la hipótesis nula, por lo que rechazamos la hipótesis de que todas las medias son iguales. Por tanto, podemos concluir que al menos una especie es diferente a las otras en términos del ancho de sépalo (<em>p</em>-valor &lt;2.2e-16).</p>
</section>
<section id="que-sigue" class="level3">
<h3 class="anchored" data-anchor-id="que-sigue">¿Que sigue?</h3>
<p>Si <strong>no se rechaza la hipótesis nula</strong> (<em>p</em>-valor ≥ 0,05), significa que no rechazamos la hipótesis de que todos los grupos son iguales. El ANVA más o menos se detiene aquí. Por supuesto, se pueden realizar otros tipos de análisis, pero, dados los datos disponibles, no pudimos probar que al menos un grupo fuera diferente, por lo que generalmente no avanzamos más con el ANVA.</p>
<p>Por el contrario, <em>si y solo si</em> se <strong>rechaza la hipótesis nula</strong> (como es nuestro caso ya que el <em>p</em>-valor &lt; 0.05), probamos que al menos un grupo es diferente. Podemos decidir detenernos aquí si solo estamos interesados en probar si todas las especies son iguales en términos de ancho de sépalo.</p>
<p>Pero la mayoría de las veces, cuando demostramos gracias a un ANVA que al menos un grupo es diferente, también nos interesa saber cuál es diferente. Para probar esto, necesitamos usar otros tipos de prueba, denominados pruebas de promedio o pruebas de comparación múltiple por pares. Esta familia de pruebas estadísticas es el tema de las siguientes secciones.</p>
</section>
</section>
<section id="pruebas-de-promedio-en-r-y-su-interpretación" class="level2">
<h2 class="anchored" data-anchor-id="pruebas-de-promedio-en-r-y-su-interpretación">Pruebas de promedio en R y su interpretación</h2>
<p>Las pruebas de promedio son una familia de pruebas estadísticas, por lo que hay varias. Las más utilizadas son las pruebas <strong>Tukey HSD</strong> y <strong>Dunnett</strong>:</p>
<ul>
<li>Tukey HSD se utiliza para comparar <strong>todos los grupos</strong> entre sí (por lo que todas las posibles comparaciones de 2 grupos).</li>
<li>Dunnett se utiliza para hacer comparaciones con un <strong>grupo de referencia</strong>. Por ejemplo, considere 2 grupos de tratamiento y un grupo de control. Si solo desea comparar los 2 grupos de tratamiento con respecto al grupo de control y no desea comparar los 2 grupos de tratamiento entre sí, se prefiere la prueba de Dunnett.</li>
</ul>
<p>Ambas pruebas se presentan en las siguientes secciones.</p>
<section id="prueba-de-tukey-hsd" class="level3">
<h3 class="anchored" data-anchor-id="prueba-de-tukey-hsd">Prueba de Tukey HSD</h3>
<p>En nuestro caso, dado que no existe una especie de “referencia” y nos interesa comparar todas las especies, vamos a utilizar la prueba de Tukey HSD.</p>
<p>En R, la prueba de Tukey HSD se realiza de la siguiente manera. Aquí es donde el <em>segundo método</em> para realizar el ANVA resulta útil porque los resultados (<code>res_aov</code>) se reutilizan para la prueba de promedios:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Prueba de Tukey HSD:</span></span>
<span id="cb17-2">post_test <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glht</span>(res_aov,</span>
<span id="cb17-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linfct =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mcp</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Species =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Tukey"</span>)</span>
<span id="cb17-4">)</span>
<span id="cb17-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(post_test)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     Simultaneous Tests for General Linear Hypotheses

Multiple Comparisons of Means: Tukey Contrasts


Fit: aov(formula = Sepal.Width ~ Species, data = iris)

Linear Hypotheses:
                            Estimate Std. Error t value Pr(&gt;|t|)    
versicolor - setosa == 0    -0.65800    0.06794  -9.685  &lt; 1e-04 ***
virginica - setosa == 0     -0.45400    0.06794  -6.683  &lt; 1e-04 ***
virginica - versicolor == 0  0.20400    0.06794   3.003  0.00871 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
(Adjusted p values reported -- single-step method)</code></pre>
</div>
</div>
<p>En el resultado de la prueba Tukey HSD, nos interesa la tabla que se muestra después de las <code>Hipótesis lineales</code>: más precisamente, en la primera y última columna de la tabla. La primera columna muestra las comparaciones que se han realizado; la última columna (<code>Pr(&gt;|t|)</code>) muestra los <em>p</em>-valores ajustados para cada comparación (con la hipótesis nula siendo los dos grupos iguales y la hipótesis alternativa siendo los dos grupos diferentes).</p>
<p>Son estos <em>p</em>-valores ajustados los que se utilizan para probar si dos grupos son significativamente diferentes o no. En nuestro ejemplo, probamos:</p>
<ol type="1">
<li>versicolor vs setosa (línea <code>versicolor - setosa == 0</code>)</li>
<li>virginica vs setosa (línea <code>virginica - setosa == 0</code>)</li>
<li>virginica vs versicolor (línea <code>virginica - versicolor == 0</code>)</li>
</ol>
<p>Los tres p-valores son menores que 0.05, por lo que rechazamos la hipótesis nula para todas las comparaciones, lo que significa que todas las especies son <strong>significativamente diferentes</strong> en términos de ancho de sépalo.</p>
<p>Tenga en cuenta que la prueba Tukey HSD también se puede realizar en R con la función <code>TukeyHSD()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">TukeyHSD</span>(res_aov)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Tukey multiple comparisons of means
    95% family-wise confidence level

Fit: aov(formula = Sepal.Width ~ Species, data = iris)

$Species
                       diff         lwr        upr     p adj
versicolor-setosa    -0.658 -0.81885528 -0.4971447 0.0000000
virginica-setosa     -0.454 -0.61485528 -0.2931447 0.0000000
virginica-versicolor  0.204  0.04314472  0.3648553 0.0087802</code></pre>
</div>
</div>
<p>Con este código, es la columna <code>p adj</code> (también la última columna) la que interesa. Tenga en cuenta que las conclusiones son las mismas que las anteriores: todas las especies son significativamente diferentes en términos de ancho de sépalo.</p>
</section>
</section>
<section id="visualización-de-anva-y-pruebas-de-promedio" class="level2">
<h2 class="anchored" data-anchor-id="visualización-de-anva-y-pruebas-de-promedio">Visualización de ANVA y pruebas de promedio</h2>
<p>Para realizar de forma más fácil un análisis de varianza, se puede usar la librería <code>easyanova</code> para analizar diferentes diseños experimentales.</p>
<section id="análisis-de-varianza-con-easyanova" class="level3">
<h3 class="anchored" data-anchor-id="análisis-de-varianza-con-easyanova">Análisis de varianza con <code>easyanova</code></h3>
<p>Para proceder con ANVA los datos de <code>iris</code> se selecciona y ordena para dar uso con el paquete <code>easyanova</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">fsdata <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> iris <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb21-2">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(Species, Sepal.Width)</span>
<span id="cb21-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(fsdata)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 150 × 2
   Species Sepal.Width
   &lt;fct&gt;         &lt;dbl&gt;
 1 setosa          3.5
 2 setosa          3  
 3 setosa          3.2
 4 setosa          3.1
 5 setosa          3.6
 6 setosa          3.9
 7 setosa          3.4
 8 setosa          3.4
 9 setosa          2.9
10 setosa          3.1
# … with 140 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Análisis de varianza para DCA</span></span>
<span id="cb23-2"></span>
<span id="cb23-3">r1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ea1</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> fsdata, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Base de datos</span></span>
<span id="cb23-4">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">design =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Diseño experimental: 1=DCA, 2=DBCA, etc.</span></span>
<span id="cb23-5">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Probabilidad estadística</span></span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/anova/index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1">r1</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`Analysis of variance`
            df type I SS mean square F value    p&gt;F
treatments   2   11.3449      5.6725   49.16 &lt;0.001
Residuals  147   16.9620      0.1154       -      -

$Means
   treatment  mean standard.error tukey snk duncan t scott_knott
1     setosa 3.428          0.048     a   a      a a           a
2  virginica 2.974          0.048     b   b      b b           b
3 versicolor 2.770          0.048     c   c      c c           c

$`Multiple comparison test`
                    pair contrast p(tukey) p(snk) p(duncan)   p(t)
1     setosa - virginica    0.454   0.0000 0.0000    0.0000 0.0000
2    setosa - versicolor    0.658   0.0000 0.0000    0.0000 0.0000
3 virginica - versicolor    0.204   0.0087 0.0031    0.0031 0.0031

$`Residual analysis`
$`Residual analysis`$`residual analysis`
                               values
p.value Shapiro-Wilk test      0.3230
p.value Bartlett test          0.3515
coefficient of variation (%)  11.1100
first value most discrepant   42.0000
second value most discrepant  16.0000
third value most discrepant  118.0000

$`Residual analysis`$residuals
     1      2      3      4      5      6      7      8      9     10     11 
 0.072 -0.428 -0.228 -0.328  0.172  0.472 -0.028 -0.028 -0.528 -0.328  0.272 
    12     13     14     15     16     17     18     19     20     21     22 
-0.028 -0.428 -0.428  0.572  0.972  0.472  0.072  0.372  0.372 -0.028  0.272 
    23     24     25     26     27     28     29     30     31     32     33 
 0.172 -0.128 -0.028 -0.428 -0.028  0.072 -0.028 -0.228 -0.328 -0.028  0.672 
    34     35     36     37     38     39     40     41     42     43     44 
 0.772 -0.328 -0.228  0.072  0.172 -0.428 -0.028  0.072 -1.128 -0.228  0.072 
    45     46     47     48     49     50     51     52     53     54     55 
 0.372 -0.428  0.372 -0.228  0.272 -0.128  0.430  0.430  0.330 -0.470  0.030 
    56     57     58     59     60     61     62     63     64     65     66 
 0.030  0.530 -0.370  0.130 -0.070 -0.770  0.230 -0.570  0.130  0.130  0.330 
    67     68     69     70     71     72     73     74     75     76     77 
 0.230 -0.070 -0.570 -0.270  0.430  0.030 -0.270  0.030  0.130  0.230  0.030 
    78     79     80     81     82     83     84     85     86     87     88 
 0.230  0.130 -0.170 -0.370 -0.370 -0.070 -0.070  0.230  0.630  0.330 -0.470 
    89     90     91     92     93     94     95     96     97     98     99 
 0.230 -0.270 -0.170  0.230 -0.170 -0.470 -0.070  0.230  0.130  0.130 -0.270 
   100    101    102    103    104    105    106    107    108    109    110 
 0.030  0.326 -0.274  0.026 -0.074  0.026  0.026 -0.474 -0.074 -0.474  0.626 
   111    112    113    114    115    116    117    118    119    120    121 
 0.226 -0.274  0.026 -0.474 -0.174  0.226  0.026  0.826 -0.374 -0.774  0.226 
   122    123    124    125    126    127    128    129    130    131    132 
-0.174 -0.174 -0.274  0.326  0.226 -0.174  0.026 -0.174  0.026 -0.174  0.826 
   133    134    135    136    137    138    139    140    141    142    143 
-0.174 -0.174 -0.374  0.026  0.426  0.126  0.026  0.126  0.126  0.126 -0.274 
   144    145    146    147    148    149    150 
 0.226  0.326  0.026 -0.474  0.026  0.426  0.026 

$`Residual analysis`$`standardized residuals`
          1           2           3           4           5           6 
 0.21339641 -1.26852308 -0.67575529 -0.97213918  0.50978030  1.39893200 
          7           8           9          10          11          12 
-0.08298749 -0.08298749 -1.56490698 -0.97213918  0.80616420 -0.08298749 
         13          14          15          16          17          18 
-1.26852308 -1.26852308  1.69531589  2.88085148  1.39893200  0.21339641 
         19          20          21          22          23          24 
 1.10254810  1.10254810 -0.08298749  0.80616420  0.50978030 -0.37937139 
         25          26          27          28          29          30 
-0.08298749 -1.26852308 -0.08298749  0.21339641 -0.08298749 -0.67575529 
         31          32          33          34          35          36 
-0.97213918 -0.08298749  1.99169979  2.28808369 -0.97213918 -0.67575529 
         37          38          39          40          41          42 
 0.21339641  0.50978030 -1.26852308 -0.08298749  0.21339641 -3.34321036 
         43          44          45          46          47          48 
-0.67575529  0.21339641  1.10254810 -1.26852308  1.10254810 -0.67575529 
         49          50          51          52          53          54 
 0.80616420 -0.37937139  1.27445076  1.27445076  0.97806686 -1.39300432 
         55          56          57          58          59          60 
 0.08891517  0.08891517  1.57083466 -1.09662042  0.38529907 -0.20746873 
         61          62          63          64          65          66 
-2.28215601  0.68168296 -1.68938822  0.38529907  0.38529907  0.97806686 
         67          68          69          70          71          72 
 0.68168296 -0.20746873 -1.68938822 -0.80023652  1.27445076  0.08891517 
         73          74          75          76          77          78 
-0.80023652  0.08891517  0.38529907  0.68168296  0.08891517  0.68168296 
         79          80          81          82          83          84 
 0.38529907 -0.50385263 -1.09662042 -1.09662042 -0.20746873 -0.20746873 
         85          86          87          88          89          90 
 0.68168296  1.86721855  0.97806686 -1.39300432  0.68168296 -0.80023652 
         91          92          93          94          95          96 
-0.50385263  0.68168296 -0.50385263 -1.39300432 -0.20746873  0.68168296 
         97          98          99         100         101         102 
 0.38529907  0.38529907 -0.80023652  0.08891517  0.96621151 -0.81209188 
        103         104         105         106         107         108 
 0.07705981 -0.21932408  0.07705981  0.07705981 -1.40485967 -0.21932408 
        109         110         111         112         113         114 
-1.40485967  1.85536320  0.66982761 -0.81209188  0.07705981 -1.40485967 
        115         116         117         118         119         120 
-0.51570798  0.66982761  0.07705981  2.44813099 -1.10847578 -2.29401137 
        121         122         123         124         125         126 
 0.66982761 -0.51570798 -0.51570798 -0.81209188  0.96621151  0.66982761 
        127         128         129         130         131         132 
-0.51570798  0.07705981 -0.51570798  0.07705981 -0.51570798  2.44813099 
        133         134         135         136         137         138 
-0.51570798 -0.51570798 -1.10847578  0.07705981  1.26259540  0.37344371 
        139         140         141         142         143         144 
 0.07705981  0.37344371  0.37344371  0.37344371 -0.81209188  0.66982761 
        145         146         147         148         149         150 
 0.96621151  0.07705981 -1.40485967  0.07705981  1.26259540  0.07705981 </code></pre>
</div>
</div>
<p>En la salida se puede observar el resultado de <code>análisis de varianza</code>, <code>prueba de promedios</code> y <code>comparación múltiple de medias</code>. Estas salidas son muy fáciles de obtener y poder interpretar las mismas. Asimismo, se puede verificar la <code>normalidad</code> y <code>coeficiente de variación</code> de los datos.</p>
</section>
<section id="visualización-de-la-prueba-de-promedios" class="level3">
<h3 class="anchored" data-anchor-id="visualización-de-la-prueba-de-promedios">Visualización de la prueba de promedios</h3>
<p>Si está interesado en incluir resultados de ANVA y pruebas de promedio directamente en los boxplot, aquí hay un fragmento de código que puede ser de su interés:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#paquete para p-valor en la visualización de prueba de promedios</span></span>
<span id="cb26-2"></span>
<span id="cb26-3">dat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> iris</span>
<span id="cb26-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Editar desde aquí</span></span>
<span id="cb26-5">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(dat) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Species"</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#variable de agrupación</span></span>
<span id="cb26-6">y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(dat) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sepal.Width"</span>) </span>
<span id="cb26-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#variables para la prueba de promedios</span></span>
<span id="cb26-8">          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#| names(dat) == "Sepal.Length"</span></span>
<span id="cb26-9">          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#| names(dat) == "Petal.Length"</span></span>
<span id="cb26-10">          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#| names(dat) == "Petal.Width")</span></span>
<span id="cb26-11">method1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"anova"</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Una de "anova" o "kruskal.test"</span></span>
<span id="cb26-12">method2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"t.test"</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Una de "wilcox.test" o "t.test"</span></span>
<span id="cb26-13">my_comparisons <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"setosa"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"versicolor"</span>), </span>
<span id="cb26-14">                       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"setosa"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"virginica"</span>), </span>
<span id="cb26-15">                       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"versicolor"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"virginica"</span>)) </span>
<span id="cb26-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># comparaciones para pruebas de promedio</span></span>
<span id="cb26-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Editar hasta aquí</span></span>
<span id="cb26-18"></span>
<span id="cb26-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Edit at your own risk</span></span>
<span id="cb26-20"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> y) {</span>
<span id="cb26-21">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> (j <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> x) {</span>
<span id="cb26-22">    p <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggboxplot</span>(dat,</span>
<span id="cb26-23">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(dat[j]), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(dat[i]),</span>
<span id="cb26-24">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(dat[j]),</span>
<span id="cb26-25">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>,</span>
<span id="cb26-26">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"npg"</span>,</span>
<span id="cb26-27">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">add =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"jitter"</span></span>
<span id="cb26-28">    )</span>
<span id="cb26-29">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(</span>
<span id="cb26-30">      p <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stat_compare_means</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(</span>
<span id="cb26-31">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(..method.., <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">", p-value = "</span>, ..p.format..)),</span>
<span id="cb26-32">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">method =</span> method1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(dat[, i], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb26-33">      )</span>
<span id="cb26-34">      <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stat_compare_means</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">comparisons =</span> my_comparisons, </span>
<span id="cb26-35">                           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">method =</span> method2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"p.format"</span>) </span>
<span id="cb26-36">      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove if p-value of ANOVA or Kruskal-Wallis test &gt;= alpha</span></span>
<span id="cb26-37">    )</span>
<span id="cb26-38">  }</span>
<span id="cb26-39">}</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/anova/index_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Otra opción de gráfica para observar la significancia entre las medias de cada par de especies.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pairwise comparisons</span></span>
<span id="cb27-2"></span>
<span id="cb27-3">pwc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> fsdata <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb27-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pairwise_t_test</span>(</span>
<span id="cb27-5">    Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pool.sd =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>,</span>
<span id="cb27-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">p.adjust.method =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span></span>
<span id="cb27-7">    )</span>
<span id="cb27-8"></span>
<span id="cb27-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Visualization: box plots with p-values</span></span>
<span id="cb27-10">pwc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pwc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">add_xy_position</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Species"</span>)</span>
<span id="cb27-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggboxplot</span>(fsdata, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Species"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sepal.Width"</span>,</span>
<span id="cb27-12">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Species"</span>, </span>
<span id="cb27-13">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>, </span>
<span id="cb27-14">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">add =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"jitter"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb27-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stat_pvalue_manual</span>(pwc, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hide.ns =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/anova/index_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="conclusión" class="level2">
<h2 class="anchored" data-anchor-id="conclusión">Conclusión</h2>
<p>La figura de prueba de promedios es muy buena opción para incluir en la sección de resultados de los reportes de investigación. La figura incluye el resultado de p-valor del análisis de varianza, además, p-valor para la comparación de medias entre especies o tratamientos de la investigación.</p>
</section>
<section id="referencias" class="level2">
<h2 class="anchored" data-anchor-id="referencias">Referencias</h2>
<ol type="1">
<li>R bloggers 2020. <a href="https://www.r-bloggers.com/2020/10/anova-in-r/">ANOVA in R</a></li>
<li>Soetewey A. 2020. <a href="https://towardsdatascience.com/how-to-do-a-t-test-or-anova-for-many-variables-at-once-in-r-and-communicate-the-results-in-a-6defaa712e5">How to do a t-test or ANOVA for more than one variable at once in R</a></li>
</ol>


</section>

 ]]></description>
  <category>ANOVA</category>
  <category>Post hoc</category>
  <category>Inferencial Statistic</category>
  <guid>https://franklinsantosm.com/posts/anova/index.html</guid>
  <pubDate>Sun, 15 Nov 2020 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/anova/featured.png" medium="image" type="image/png" height="118" width="144"/>
</item>
<item>
  <title>Análisis de correspondencia con R</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/Analisis_correspondencia/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>El <strong>análisis de correspondencia (CA)</strong> es una extensión del análisis de componentes principales <code>(Capítulo 4)</code> adecuado para explorar relaciones entre variables cualitativas (o datos categóricos). Al igual que el análisis de componentes principales, proporciona una solución para resumir y visualizar conjuntos de datos en gráficos de dos dimensiones.</p>
<p>Aquí, describimos el análisis de correspondencia simple, que se utiliza para analizar frecuencias formadas por dos datos categóricos, una tabla de datos conocida como <em>tabla de contingencia</em>, tambien se conoce como <strong>tablas cruzadas</strong>. Proporciona puntuaciones de factores (coordenadas) para los puntos de fila y columna de la tabla de contingencia. Estas coordenadas se utilizan para visualizar gráficamente la asociación entre elementos de fila y columna en la tabla de contingencia.</p>
<p>Al analizar una tabla de contingencia bidireccional, una pregunta típica es si ciertos elementos de fila están asociados con algunos elementos de elementos de columna. El análisis de correspondencia es un enfoque geométrico para visualizar las filas y columnas de una tabla de contingencia bidireccional como puntos en un espacio de baja dimensión, de modo que las posiciones de los puntos de fila y columna sean consistentes con sus asociaciones en la tabla. El objetivo es tener una visión global de los datos que sea útil para la interpretación.</p>
<p>En el capítulo actual, mostraremos cómo calcular e interpretar el análisis de correspondencia usando dos <code>paquetes R</code>: i) <code>FactoMineR</code> para el análisis y ii) <code>factoextra</code> para la visualización de datos. Además, mostraremos cómo revelar las variables más importantes que explican las variaciones en un conjunto de datos.</p>
</section>
<section id="procedimiento-computacional-en-r" class="level2">
<h2 class="anchored" data-anchor-id="procedimiento-computacional-en-r">Procedimiento computacional en R</h2>
<p>Cargar paquetes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(FactoMineR)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(factoextra)</span></code></pre></div>
</div>
<section id="formato-de-datos" class="level3">
<h3 class="anchored" data-anchor-id="formato-de-datos">Formato de datos</h3>
<p>Los datos deben ser una tabla de contingencia (resultados de tablas cruzadas). Usaremos los conjuntos de datos de demostración de tareas domésticas disponibles en el paquete factoextra R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data</span>(housetasks)</span></code></pre></div>
</div>
<p>Los datos son una tabla de contingencia que contiene 13 tareas del hogar y su reparto en la pareja:</p>
<ul>
<li>las filas son las diferentes tareas</li>
<li>Los valores son las frecuencias de las tareas realizadas:
<ul>
<li>solo por la esposa “wife only”</li>
<li>alternativamente “Alternating”</li>
<li>solo por el marido “husband only”</li>
<li>o conjuntamente “jointly</li>
</ul></li>
</ul>
<p>Los datos se ilustran en la siguiente salida:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>           Wife Alternating Husband Jointly
Laundry     156          14       2       4
Main_meal   124          20       5       4
Dinner       77          11       7      13
Breakfeast   82          36      15       7
Tidying      53          11       1      57
Dishes       32          24       4      53
Shopping     33          23       9      55
Official     12          46      23      15
Driving      10          51      75       3
Finances     13          13      21      66
Insurance     8           1      53      77
Repairs       0           3     160       2
Holidays      0           1       6     153</code></pre>
</div>
</div>
</section>
<section id="gráfica-de-tablas-de-contingencia-y-prueba-de-chi-cuadrado" class="level3">
<h3 class="anchored" data-anchor-id="gráfica-de-tablas-de-contingencia-y-prueba-de-chi-cuadrado">Gráfica de tablas de contingencia y prueba de chi-cuadrado</h3>
<p>La tabla de contingencia anterior no es muy grande. Por lo tanto, es fácil inspeccionar e interpretar visualmente los perfiles de filas y columnas:</p>
<ul>
<li>Es evidente que las tareas de la casa (lavandería, comida principal y cena) las realiza con más frecuencia la “esposa”.</li>
<li>Las reparaciones y la conducción las realiza predominantemente el marido.</li>
<li>Los días festivos se asocian con frecuencia con la columna “conjuntamente”</li>
</ul>
<p>El análisis de datos exploratorios y la visualización de tablas de contingencia se cubrieron en nuestro artículo anterior: <a href="htpp:/">Prueba de independencia de chi-cuadrado</a> en R. Brevemente, la tabla de contingencia se puede visualizar utilizando las funciones <code>balloonplot()</code> [paquete gplots] y <code>mosaicplot()</code> [paquete graphics]:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gplots)</span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#1. Convierte el dato como una tabla</span></span>
<span id="cb4-3">dt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.table</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.matrix</span>(housetasks))</span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. Graph</span></span>
<span id="cb4-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">balloonplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">t</span>(dt), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"housetasks"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,</span>
<span id="cb4-6">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">show.margins =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/Analisis_correspondencia/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Tenga en cuenta que las sumas de filas y columnas se imprimen de forma predeterminada en los márgenes inferior y derecho, respectivamente. Estos valores están ocultos, en el gráfico anterior, utilizando el argumento show.margins = FALSE.</p>
</div>
</div>
<p>Para una tabla de contingencia pequeña, puede utilizar la prueba de chi-cuadrado para evaluar si existe una dependencia significativa entre las categorías de filas y columnas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">chisq <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chisq.test</span>(housetasks)</span>
<span id="cb5-2">chisq</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test

data:  housetasks
X-squared = 1944.5, df = 36, p-value &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">

</div>
</div>
<div class="callout-body-container callout-body">
<p>En nuestro ejemplo, las variables de fila y columna están asociadas de manera estadísticamente significativa (<code>valor p = r chisq$p.value</code>).</p>
</div>
</div>
</section>
<section id="código-r-para-calcular-ca-analisis-de-correspondencia" class="level3">
<h3 class="anchored" data-anchor-id="código-r-para-calcular-ca-analisis-de-correspondencia">Código R para calcular CA (Analisis de Correspondencia)</h3>
<p>Se puede utilizar la función <code>CA()</code> [<em>paquete FactoMiner</em>]. Un formato simplificado es:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode fs code-with-copy"><code class="sourceCode fsharp"><span id="cb7-1">CA<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span>X, ncp = <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, graph = TRUE<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span></code></pre></div>
</div>
<blockquote class="blockquote">
<ul>
<li><strong>X</strong>: es un marco de datos (tabla de contingencia)</li>
<li><strong>ncp</strong>: número de dimensiones mantenidas en los resultados finales.</li>
<li><strong>graph</strong>: un valor lógico. Si es TRUE, se muestra un gráfico.</li>
</ul>
</blockquote>
<p>Para calcular el análisis de correspondencia, escriba esto:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FactoMineR"</span>)</span>
<span id="cb8-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#housetasks es nuestro marco de datos</span></span>
<span id="cb8-3">res.ca <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">CA</span>(housetasks, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">graph =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
</div>
<p>La salida de la función <code>CA()</code> es una lista que incluye:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(res.ca)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>**Results of the Correspondence Analysis (CA)**
The row variable has  13  categories; the column variable has 4 categories
The chi square of independence between the two variables is equal to 1944.456 (p-value =  0 ).
*The results are available in the following objects:

   name              description                   
1  "$eig"            "eigenvalues"                 
2  "$col"            "results for the columns"     
3  "$col$coord"      "coord. for the columns"      
4  "$col$cos2"       "cos2 for the columns"        
5  "$col$contrib"    "contributions of the columns"
6  "$row"            "results for the rows"        
7  "$row$coord"      "coord. for the rows"         
8  "$row$cos2"       "cos2 for the rows"           
9  "$row$contrib"    "contributions of the rows"   
10 "$call"           "summary called parameters"   
11 "$call$marge.col" "weights of the columns"      
12 "$call$marge.row" "weights of the rows"         </code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>El objeto que se crea usando la función <code>CA()</code> contiene mucha información que se encuentra en muchas listas y matrices diferentes. Estos valores se describen en la siguiente sección.</p>
</blockquote>
</section>
</section>
<section id="visualización-e-interpretación" class="level2">
<h2 class="anchored" data-anchor-id="visualización-e-interpretación">Visualización e interpretación</h2>
<p>Usaremos las siguientes funciones en <code>factoextra</code> para ayudar en la interpretación y visualización del análisis de correspondencia:</p>
<ul>
<li><code>get_eigenvalue(res.ca)</code>: Extraiga los autovalores/varianzas retenidos por cada dimensión (eje)</li>
<li><code>fviz_eig(res.ca)</code>: Visualiza los valores propios</li>
<li><code>get_ca_row(res.ca)</code>, <code>get_ca_col(res.ca)</code>: Extrae los resultados para filas y columnas, respectivamente.</li>
<li><code>fviz_ca_row(res.ca)</code>, <code>fviz_ca_col(res.ca)</code>: Visualiza los resultados para filas y columnas, respectivamente.</li>
<li><code>fviz_ca_biplot(res.ca)</code>: Crea un biplot de filas y columnas.</li>
</ul>
<p>En las siguientes secciones, ilustraremos cada una de estas funciones.</p>
<section id="significación-estadística" class="level3">
<h3 class="anchored" data-anchor-id="significación-estadística">Significación estadística</h3>
<p>Para interpretar el análisis de correspondencia, el primer paso es evaluar si existe una dependencia significativa entre las filas y las columnas.</p>
<p>Un método riguroso consiste en utilizar la <strong>estadística de chi-cuadrado</strong> para examinar la asociación entre las variables de fila y columna. Esto aparece en la parte superior y es generado por la función <code>summary(res.ca)</code> o <code>print(res.ca)</code>, ver sección “Gráfica de tablas de contingencia y prueba de chi-cuadrado”. Una estadística de <code>chi-cuadrado alta</code> significa un vínculo fuerte entre las variables de fila y columna o sea, la probabilidad de chi cuadrado deberá ser inferior a 0.05.</p>
<blockquote class="blockquote">
<p>En nuestro ejemplo, la asociación es muy significativa (chi-cuadrado: 1944,456, p = 0).</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Chi-square statistics</span></span>
<span id="cb11-2">chi2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1944.456</span></span>
<span id="cb11-3">chi2</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1944.456</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Degree of freedom</span></span>
<span id="cb13-2">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nrow</span>(housetasks) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> (<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ncol</span>(housetasks) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb13-3">df</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 36</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># P-value</span></span>
<span id="cb15-2">pval <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pchisq</span>(chi2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">df =</span> df, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lower.tail =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb15-3">pval</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</section>
<section id="valores-propiosvarianzas" class="level3">
<h3 class="anchored" data-anchor-id="valores-propiosvarianzas">Valores propios/Varianzas</h3>
<p>Recuerde que examinamos los valores propios para determinar el número de ejes a considerar. Los valores propios y la proporción de varianzas retenidas por los diferentes ejes se pueden extraer utilizando la función <code>get_eigenvalue()</code> [paquete <em>factoextra</em>]. Los <em>valores propios</em> son grandes para el primer eje y pequeños para el eje siguiente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"factoextra"</span>)</span>
<span id="cb17-2">eig.val <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_eigenvalue</span>(res.ca)</span>
<span id="cb17-3">eig.val</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      eigenvalue variance.percent cumulative.variance.percent
Dim.1  0.5428893         48.69222                    48.69222
Dim.2  0.4450028         39.91269                    88.60491
Dim.3  0.1270484         11.39509                   100.00000</code></pre>
</div>
</div>
<p>Los <em>valores propios</em> corresponden a la cantidad de información retenida por cada eje. Las dimensiones se ordenan de forma decreciente y se enumeran de acuerdo con la cantidad de variación explicada en la solución. La dimensión 1 explica la mayor variación en la solución, seguida de la dimensión 2 y así sucesivamente.</p>
<p>El porcentaje acumulado explicado se obtiene sumando las sucesivas proporciones de variación explicadas para obtener el total acumulado. Por ejemplo, 48,69% más 39,91% es igual a 88,6% y así sucesivamente. Por lo tanto, aproximadamente el 88,6% de la variación se explica por las dos primeras dimensiones.</p>
<p>Los valores propios se pueden utilizar para determinar el número de ejes que se deben retener. No existe una “regla general” para elegir el número de dimensiones que se deben mantener para la interpretación de los datos. Depende de la pregunta de investigación y la necesidad del investigador. Por ejemplo, si está satisfecho con el 80% de las variaciones totales explicadas, utilice la cantidad de dimensiones necesarias para lograrlo.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tenga en cuenta
</div>
</div>
<div class="callout-body-container callout-body">
<p>Se logra una buena reducción de dimensión cuando las primeras dimensiones representan una gran proporción de la variabilidad.</p>
</div>
</div>
<p>En nuestro análisis, los dos primeros ejes explican el 88,6% de la variación. Este es un porcentaje aceptablemente grande.</p>
<p>Un método alternativo para determinar el número de dimensiones es mirar una gráfica de <code>Scree Plot</code>, que es el diagrama de valores propios/varianzas ordenados de mayor a menor. El número de componentes se determina en el punto, más allá del cual los valores propios restantes son todos relativamente pequeños y de tamaño comparable.</p>
<p>El gráfico <code>Scree plot</code> se puede realizar usando la función <code>fviz_eig()</code> o <code>fviz_screeplot()</code> del paquete <code>factoextra</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_screeplot</span>(res.ca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">addlabels =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/Analisis_correspondencia/index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Consideración
</div>
</div>
<div class="callout-body-container callout-body">
<p>Se puede considerar que el punto en el que el gráfico de pedregal muestra una curvatura (denominado “codo”) indica una dimensionalidad óptima.</p>
</div>
</div>
<p>También es posible calcular un valor propio promedio por encima del cual el eje debe mantenerse en la solución.</p>
<blockquote class="blockquote">
<ul>
<li>Nuestros datos contienen 13 filas y 4 columnas.</li>
<li>Si los datos fueran aleatorios, el valor esperado del valor propio para cada eje sería <code>1/(nrow(housetasks)-1) = 1/12 = 8,33%</code> en términos de filas.</li>
<li>Asimismo, el eje promedio debe representar <code>1/(ncol(housetasks)-1) = 1/3 = 33,33%</code> en términos de las 4 columnas.</li>
</ul>
</blockquote>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Según (M. T. Bendixen 1995):
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cualquier eje con una contribución mayor que el máximo de estos dos porcentajes debe ser considerado como importante e incluido en la solución para la interpretación de los datos.</p>
</div>
</div>
<p>El código R a continuación, dibuja el gráfico de pantalla con una línea discontinua roja que especifica el valor propio promedio:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_screeplot</span>(res.ca) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">33.33</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/Analisis_correspondencia/index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Según el gráfico anterior, solo las dimensiones 1 y 2 deben usarse en la solución. La dimensión 3 explica sólo el 11,4% de la inercia total, que está por debajo del valor propio medio (33,33%) y es demasiado poco para guardarlo para un análisis más detallado.</p>
<blockquote class="blockquote">
<p>Tenga en cuenta que puede utilizar más de 2 dimensiones. Sin embargo, es poco probable que las dimensiones complementarias contribuyan de manera significativa a la interpretación de la naturaleza de la asociación entre filas y columnas.</p>
</blockquote>
<p>Las dimensiones 1 y 2 explican aproximadamente el 48,7% y el 39,9% de la inercia total, respectivamente. Esto corresponde a un total acumulado del 88,6% de la inercia total retenida por las 2 dimensiones. Cuanto mayor sea la retención, más sutileza en los datos originales se retiene en la solución de baja dimensión (M. Bendixen 2003).</p>
</section>
<section id="biplot" class="level3">
<h3 class="anchored" data-anchor-id="biplot">Biplot</h3>
<p>La función <code>fviz_ca_biplot()</code> del paquete <code>factoextra</code> se puede utilizar para dibujar el biplot de las variables de filas y columnas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># repel= TRUE para evitar la superposición de texto (lenta si tiene muchos puntos)</span></span>
<span id="cb21-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_ca_biplot</span>(res.ca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repel =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/Analisis_correspondencia/index_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>El gráfico anterior se llama gráfico simétrico y muestra un patrón global dentro de los datos. Las filas están representadas por puntos azules y las columnas por triángulos rojos.</p>
<p>La distancia entre cualquier punto de fila o columna da una medida de su similitud (o disimilitud). Los puntos de fila con un perfil similar se cierran en el mapa de factores. Lo mismo es válido para los puntos de columna.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Este gráfico muestra que:
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Las tareas de la casa, como la cena, el desayuno y la ropa, las hace la esposa con más frecuencia.</li>
<li>La conducción y las reparaciones las realiza el marido.</li>
<li>El <em>gráfico simétrico</em> representa los perfiles de fila y columna simultáneamente en un espacio común. En este caso, solo se puede interpretar realmente la distancia entre puntos de fila o la distancia entre puntos de columna.</li>
<li>¡La distancia entre cualquier elemento de fila y columna no es significativa! Solo puede hacer declaraciones generales sobre el patrón observado.</li>
<li>Para interpretar la distancia entre los puntos de columna y fila, los perfiles de columna deben presentarse en el espacio de fila o viceversa. Este tipo de mapa se llama biplot asimétrico y se analiza al final de este artículo.</li>
</ul>
</div>
</div>
<p>El siguiente paso para la interpretación es determinar qué variables de fila y columna contribuyen más en la definición de las diferentes dimensiones retenidas en el modelo.</p>
</section>
<section id="opciones-de-biplot" class="level3">
<h3 class="anchored" data-anchor-id="opciones-de-biplot">Opciones de biplot</h3>
<p>Biplot es una visualización gráfica de filas y columnas en 2 o 3 dimensiones. Ya hemos descrito cómo crear CA biplots en la sección anterior. Aquí, describiremos diferentes tipos de biplots de CA.</p>
<section id="biplot-simétrico" class="level4">
<h4 class="anchored" data-anchor-id="biplot-simétrico">Biplot simétrico</h4>
<p>Como se mencionó anteriormente, el gráfico estándar del análisis de correspondencia es un biplot simétrico en el que tanto las filas (puntos azules) como las columnas (triángulos rojos) se representan en el mismo espacio utilizando las coordenadas principales. Estas coordenadas representan los perfiles de fila y columna. En este caso, solo se puede interpretar realmente la distancia entre puntos de fila o la distancia entre puntos de columna.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">

</div>
</div>
<div class="callout-body-container callout-body">
<p>Con la gráfica simétrica, la distancia entre filas y columnas no se puede interpretar. Solo se pueden hacer declaraciones generales sobre el patrón.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_ca_biplot</span>(res.ca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repel =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/Analisis_correspondencia/index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Tenga en cuenta que, para interpretar la distancia entre los puntos de la columna y los puntos de la fila, la forma más sencilla es hacer una gráfica asimétrica. Esto significa que los perfiles de columna deben presentarse en el espacio de la fila o viceversa.</p>
</div>
</div>
</section>
<section id="biplot-asimétrico" class="level4">
<h4 class="anchored" data-anchor-id="biplot-asimétrico">Biplot asimétrico</h4>
<p>Para hacer un <em>biplot asimétrico</em>, los puntos de las filas (o columnas) se trazan a partir de las coordenadas estándar (S) y los perfiles de las columnas (o las filas) se trazan a partir de las coordenadas principales (P) (M. Bendixen 2003).</p>
<p>Para un eje dado, las coordenadas estándar y principal se relacionan de la siguiente manera:</p>
<p><code>P = sqrt(valor propio) X S</code></p>
<ul>
<li><em>P</em> : la coordenada principal de una fila (o una columna) en el eje</li>
<li><em>valor propio</em> : el valor propio del eje</li>
</ul>
<p>Dependiendo de la situación, se pueden configurar otros tipos de visualización utilizando el mapa de argumentos (Nenadic y Greenacre 2007) en la función <code>fviz_ca_biplot()</code> [in factoextra].</p>
<p>Las opciones permitidas para el <em>mapa</em> de argumentos son:</p>
<ul>
<li><p><strong>“rowprincipal”</strong> o <strong>“colprincipal”</strong>: estos son los llamados biplots asimétricos, con filas en coordenadas principales y columnas en coordenadas estándar, o viceversa (también conocido como preservar métricas de filas o preservar métricas de columnas, respectivamente).</p>
<ul>
<li><strong>“rowprincipal”</strong>: las columnas se representan en el espacio de las filas</li>
<li><strong>“colprincipal”</strong>: las filas se representan en el espacio de la columna</li>
</ul></li>
<li><p><strong>“symbiplot”</strong>: tanto las filas como las columnas se escalan para tener varianzas iguales a los valores singulares (raíces cuadradas de los valores propios), lo que da un <em>biplot simétrico</em> pero no conserva las métricas de filas o columnas.</p></li>
<li><p><strong>“rowgab”</strong> o <strong>“colgab”</strong>: <em>mapas asimétricos</em> propuestos por Gabriel y Odoroff (Gabriel y Odoroff 1990):</p>
<ul>
<li><em>“rowgab”</em>: filas en coordenadas principales y columnas en coordenadas estándar multiplicadas por la masa.</li>
<li><em>“colgab”</em>: columnas en coordenadas principales y filas en coordenadas estándar multiplicadas por la masa.</li>
</ul></li>
<li><p><strong>“rowgreen”</strong> o <strong>“colgreen”</strong>: Los llamados <em>biplots de contribución</em> que muestran visualmente los puntos que más contribuyen (Greenacre 2006b).</p>
<ul>
<li><em>“rowgreen”</em>: filas en coordenadas principales y columnas en coordenadas estándar multiplicadas por la raíz cuadrada de la masa.</li>
<li><em>“colgreen”</em>: columnas en coordenadas principales y filas en coordenadas estándar multiplicadas por la raíz cuadrada de la masa.</li>
</ul></li>
</ul>
<p>El siguiente código R dibuja un <em>biplot asimétrico</em> estándar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_ca_biplot</span>(res.ca,</span>
<span id="cb23-2">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">map =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rowprincipal"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb23-3">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repel =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/Analisis_correspondencia/index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Usamos el argumento flechas, que es un vector de dos lógicas que especifican si la gráfica debe contener puntos (<code>FALSE</code>, predeterminado) o flechas (<code>TRUE</code>). El primer valor establece las filas y el segundo valor establece el columnas.</p>
<p>Si el ángulo entre dos flechas es agudo, entonces existe una fuerte asociación entre la fila y la columna correspondientes.</p>
<p>Para interpretar la distancia entre filas y una columna, debe proyectar perpendicularmente puntos de fila en la flecha de la columna.</p>
</section>
<section id="biplot-de-contribución" class="level4">
<h4 class="anchored" data-anchor-id="biplot-de-contribución">Biplot de contribución</h4>
<p>En el <em>biplot simétrico</em> estándar (mencionado en la sección anterior), es difícil conocer los puntos que más contribuyen a la solución de la CA.</p>
<p><em>Michael Greenacre</em> propuso una nueva escala mostrada (llamada biplot de contribución) que incorpora la contribución de puntos (M. Greenacre 2013). En esta visualización, los puntos que contribuyen muy poco a la solución, están cerca del centro de la biplot y son relativamente poco importantes para la interpretación.</p>
<blockquote class="blockquote">
<p>Se puede dibujar un biplot de contribución usando el argumento <code>map = "rowgreen"</code> o <code>map = "colgreen"</code>.</p>
</blockquote>
<p>En primer lugar, hay que decidir si analizar las contribuciones de filas o columnas a la definición de los ejes.</p>
<p>En nuestro ejemplo interpretaremos la contribución de las filas a los ejes. Se utiliza el argumento <code>map = "colgreen"</code>. En este caso, recuerde que las columnas están en coordenadas principales y las filas en coordenadas estándar multiplicadas por la raíz cuadrada de la masa. Para una fila dada, el cuadrado de la nueva coordenada en un eje i es exactamente la contribución de esta fila a la inercia del eje i.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_ca_biplot</span>(res.ca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">map =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"colgreen"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>),</span>
<span id="cb24-2">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repel =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://franklinsantosm.com/posts/Analisis_correspondencia/index_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>En el gráfico anterior, la posición de los puntos del perfil de la columna no cambia con respecto a la del biplot convencional. Sin embargo, las distancias de los puntos de fila desde el origen de la gráfica están relacionadas con sus contribuciones al mapa de factores bidimensionales.</p>
<p>Cuanto más cerca esté una flecha (en términos de distancia angular) de un eje, mayor será la contribución de la categoría de fila en ese eje en relación con el otro eje. Si la flecha está a medio camino entre los dos, su categoría de fila contribuye a los dos ejes en la misma medida.</p>
<blockquote class="blockquote">
<ul>
<li>Es evidente que la categoría de fila Reparaciones (Repairs) tiene una contribución importante al polo positivo de la primera dimensión, mientras que las categorías Lavandería (Laundry) y Comida principal (Main_meal) tienen una contribución importante al polo negativo de la primera dimensión;</li>
<li>La dimensión 2 se define principalmente por la categoría de fila Vacaciones (Holidays).</li>
<li>La categoría de fila Conducción (Driving) contribuye a los dos ejes en la misma medida.</li>
</ul>
</blockquote>
</section>
</section>
<section id="descripción-de-las-dimensiones" class="level3">
<h3 class="anchored" data-anchor-id="descripción-de-las-dimensiones">Descripción de las dimensiones</h3>
<p>Para identificar fácilmente los puntos de fila y columna que están más asociados con las dimensiones principales, puede usar la función <code>dimdesc()</code> [en FactoMineR]. Las variables de fila/columna se ordenan por sus coordenadas en la salida <code>dimdesc()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Descripción de la dimensión</span></span>
<span id="cb25-2">res.desc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dimdesc</span>(res.ca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axes =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span></code></pre></div>
</div>
<p>Descripción de la dimensión 1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Descripción de la dimensión 1 por puntos de fila</span></span>
<span id="cb26-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(res.desc[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>row, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                coord
Laundry    -0.9918368
Main_meal  -0.8755855
Dinner     -0.6925740
Breakfeast -0.5086002</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Descripción de la dimensión 1 por puntos de columna</span></span>
<span id="cb28-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(res.desc [[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>col, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  coord
Wife        -0.83762154
Alternating -0.06218462
Jointly      0.14942609
Husband      1.16091847</code></pre>
</div>
</div>
<p>Descripción de la dimensión 2:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Descripción de la dimensión 2 por puntos de fila</span></span>
<span id="cb30-2">res.desc[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>fila</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Descripción de la dimensión 1 por puntos de columna</span></span>
<span id="cb32-2">res.desc[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>col</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 coord
Jointly     -1.0265791
Alternating  0.2915938
Wife         0.3652207
Husband      0.6019199</code></pre>
</div>
</div>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{santos2020,
  author = {Santos, Franklin},
  title = {Análisis de Correspondencia Con {R}},
  date = {2020-11-07},
  url = {https://franklinsantosm.com/posts/Analisis_correspondencia},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-santos2020" class="csl-entry quarto-appendix-citeas">
Santos, Franklin. 2020. <span>“Análisis de Correspondencia Con
R.”</span> November 7, 2020. <a href="https://franklinsantosm.com/posts/Analisis_correspondencia">https://franklinsantosm.com/posts/Analisis_correspondencia</a>.
</div></div></section></div> ]]></description>
  <category>Chi-cuadrado</category>
  <category>Biplot</category>
  <category>Componentes Principales</category>
  <guid>https://franklinsantosm.com/posts/Analisis_correspondencia/index.html</guid>
  <pubDate>Sat, 07 Nov 2020 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/Analisis_correspondencia/featured.png" medium="image" type="image/png" height="118" width="144"/>
</item>
<item>
  <title>Ordenar datos con el paquete Tidyverse</title>
  <dc:creator>Franklin Santos</dc:creator>
  <link>https://franklinsantosm.com/posts/tidyexam/index.html</link>
  <description><![CDATA[ 




<style>
body {
text-align: justify}
</style>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>La ordenación de datos es una de las tareas mas importantes despues de concluir la investigación. En las ciencias agrícolas, generalmente la investigación concluye con la evaluación de la cosecha del cultivo. Generalmente nuestros datos pueden estar organizados en un libro de campo; sin embargo, en otras áreas no es así.</p>
<p>En este blog replicaré un ejemplo de ordenación de datos con el paquete <code>Tidyverse</code> del libro R4DS. El dataset <code>datos::oms</code> contiene datos de <code>tuberculosis</code> (TB) detallados por año, país, edad, sexo y método de diagnóstico. Los datos provienen del Informe de Tuberculosis de la Organización Mundial de la Salud 2014, disponible en <a href="http://www.who.int/tb/country/data/download/en/" class="uri">http://www.who.int/tb/country/data/download/en/</a>.</p>
</section>
<section id="procedimiento-de-ordenación" class="level2">
<h2 class="anchored" data-anchor-id="procedimiento-de-ordenación">Procedimiento de ordenación</h2>
<section id="cargar-el-paquete-tidyverse" class="level3">
<h3 class="anchored" data-anchor-id="cargar-el-paquete-tidyverse">Cargar el paquete <code>tidyverse</code></h3>
<p>El primer paso es instalar el paquete <code>tidyverse</code> del CRAN de R. Posterior a esto es cargar el paquete en nuestra consola de R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#En el paquete datos se encuentra la base de datos para este ejemplo</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(datos)</span></code></pre></div>
</div>
<p>A continuación observación el estado de los datos de <code>oms</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(oms)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 60
  pais       iso2  iso3   anio nuevos_…¹ nuevo…² nuevo…³ nuevo…⁴ nuevo…⁵ nuevo…⁶
  &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; &lt;int&gt;     &lt;int&gt;   &lt;int&gt;   &lt;int&gt;   &lt;int&gt;   &lt;int&gt;   &lt;int&gt;
1 Afganistán AF    AFG    1980        NA      NA      NA      NA      NA      NA
2 Afganistán AF    AFG    1981        NA      NA      NA      NA      NA      NA
3 Afganistán AF    AFG    1982        NA      NA      NA      NA      NA      NA
4 Afganistán AF    AFG    1983        NA      NA      NA      NA      NA      NA
5 Afganistán AF    AFG    1984        NA      NA      NA      NA      NA      NA
6 Afganistán AF    AFG    1985        NA      NA      NA      NA      NA      NA
# … with 50 more variables: nuevos_fpp_h65 &lt;int&gt;, nuevos_fpp_m014 &lt;int&gt;,
#   nuevos_fpp_m1524 &lt;int&gt;, nuevos_fpp_m2534 &lt;int&gt;, nuevos_fpp_m3544 &lt;int&gt;,
#   nuevos_fpp_m4554 &lt;int&gt;, nuevos_fpp_m5564 &lt;int&gt;, nuevos_fpp_m65 &lt;int&gt;,
#   nuevos_fpn_h014 &lt;int&gt;, nuevos_fpn_h1524 &lt;int&gt;, nuevos_fpn_h2534 &lt;int&gt;,
#   nuevos_fpn_h3544 &lt;int&gt;, nuevos_fpn_h4554 &lt;int&gt;, nuevos_fpn_h5564 &lt;int&gt;,
#   nuevos_fpn_h65 &lt;int&gt;, nuevos_fpn_m014 &lt;int&gt;, nuevos_fpn_m1524 &lt;int&gt;,
#   nuevos_fpn_m2534 &lt;int&gt;, nuevos_fpn_m3544 &lt;int&gt;, nuevos_fpn_m4554 &lt;int&gt;, …</code></pre>
</div>
</div>
<p>En la salida se observa un ejemplo muy típico de una base de datos de la vida real. Contiene columnas redundantes, códigos extraños de variables y muchos valores faltantes. Practicamente, la base de datos <code>oms</code> está desordenado, por tanto, se necesita ordenarlo de manera sencilla con tidyverse.</p>
</section>
<section id="pasos-de-ordenación" class="level3">
<h3 class="anchored" data-anchor-id="pasos-de-ordenación">Pasos de ordenación</h3>
<p>Necesitamos agrupar todas las columnas desde <code>nuevos_fpp_h014</code> hasta <code>recaidas_m65</code>. No sabemos aún qué representa esto, por lo que le daremos el nombre genérico de <code>"clave"</code>. Sabemos que las celdas representan la cuenta de casos, por lo que usaremos la variable <code>casos</code>.</p>
<p>Existen múltiples valores faltantes en la representación actual, por lo que de momento usaremos <code>na.rm</code> para centrarnos en los valores que están presentes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">oms1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> oms <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(</span>
<span id="cb4-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> nuevos_fpp_h014<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>nuevosrecaida_m65, </span>
<span id="cb4-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"clave"</span>, </span>
<span id="cb4-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"casos"</span>, </span>
<span id="cb4-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_drop_na =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="cb4-7">  )</span>
<span id="cb4-8">oms1</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 76,046 × 6
   pais       iso2  iso3   anio clave            casos
   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;            &lt;int&gt;
 1 Afganistán AF    AFG    1997 nuevos_fpp_h014      0
 2 Afganistán AF    AFG    1997 nuevos_fpp_h1524    10
 3 Afganistán AF    AFG    1997 nuevos_fpp_h2534     6
 4 Afganistán AF    AFG    1997 nuevos_fpp_h3544     3
 5 Afganistán AF    AFG    1997 nuevos_fpp_h4554     5
 6 Afganistán AF    AFG    1997 nuevos_fpp_h5564     2
 7 Afganistán AF    AFG    1997 nuevos_fpp_h65       0
 8 Afganistán AF    AFG    1997 nuevos_fpp_m014      5
 9 Afganistán AF    AFG    1997 nuevos_fpp_m1524    38
10 Afganistán AF    AFG    1997 nuevos_fpp_m2534    36
# … with 76,036 more rows</code></pre>
</div>
</div>
<p>Para visualizar el conteo de valores en la nueva columna <code>clave</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">oms1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb6-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(clave)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 56 × 2
   clave               n
   &lt;chr&gt;           &lt;int&gt;
 1 nuevos_ep_h014   1038
 2 nuevos_ep_h1524  1026
 3 nuevos_ep_h2534  1020
 4 nuevos_ep_h3544  1024
 5 nuevos_ep_h4554  1020
 6 nuevos_ep_h5564  1015
 7 nuevos_ep_h65    1018
 8 nuevos_ep_m014   1032
 9 nuevos_ep_m1524  1021
10 nuevos_ep_m2534  1021
# … with 46 more rows</code></pre>
</div>
</div>
<p>Para entender el significado de cada variable, se dispone de un diccionario de datos a mano. Este dice lo siguiente:</p>
<ol class="example" type="1">
<li><p>Lo que aparece antes del primer <code>_</code> en las columnas indica si la columna contiene casos nuevos o antiguos de tuberculosis. En este dataset, cada columna contiene nuevos casos.</p></li>
<li><p>Lo que aparece luego de indicar si se refiere casos nuevos o antiguos es el tipo de tuberculosis:</p></li>
</ol>
<ul>
<li><code>recaida</code> se refiere a casos reincidentes</li>
<li><code>ep</code> se refiere a tuberculosis extra pulmonar</li>
<li><code>fpn</code> se refiere a casos de tuberculosis pulmonar que no se pueden detectar mediante examen de frotis pulmonar (frotis pulmonar negativo)</li>
<li><code>fpp</code> se refiere a casos de tuberculosis pulmonar que se pueden detectar mediante examen de frotis pulmonar (frotis pulmonar positivo)</li>
</ul>
<ol start="3" class="example" type="1">
<li><p>La letra que aparece después del último <code>_</code> se refiere al sexo de los pacientes. El conjunto de datos agrupa en hombres (<code>h</code>) y mujeres (<code>m</code>).</p></li>
<li><p>Los números finales se refieren al grupo etareo que se ha organizado en siete categorías:</p></li>
</ol>
<ul>
<li><code>014</code> = <code>0 - 14</code> años de edad</li>
<li><code>1524</code> = <code>15 – 24</code> años de edad</li>
<li><code>2534</code> = <code>25 – 34</code> años de edad</li>
<li><code>3544</code> = <code>35 – 44</code> años de edad</li>
<li><code>4554</code> = <code>45 – 54</code> años de edad</li>
<li><code>5564</code> = <code>55 – 64</code> años de edad</li>
<li><code>65</code> = <code>65</code> o más años de edad</li>
</ul>
<p>Necesitamos hacer un pequeño cambio al formato de los nombres de las columnas: desafortunadamente lo nombres de las columnas son ligeramente inconsistentes debido a que en lugar de <code>nuevos_recaida</code> tenemos <code>nuevosrecaida</code> (es difícil darse cuenta de esto en esta parte, pero si no lo arreglas habrá errores en los pasos siguientes). Para esto, la idea básica es bastante simple: reemplazar los caracteres <code>“nuevosrecaida”</code> por <code>“nuevos_recaida”</code>. Esto genera nombres de variables consistentes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">oms2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> oms1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">clave =</span> stringr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace</span>(clave, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nuevosrecaida"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nuevos_recaida"</span>))</span>
<span id="cb8-3">oms2</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 76,046 × 6
   pais       iso2  iso3   anio clave            casos
   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;            &lt;int&gt;
 1 Afganistán AF    AFG    1997 nuevos_fpp_h014      0
 2 Afganistán AF    AFG    1997 nuevos_fpp_h1524    10
 3 Afganistán AF    AFG    1997 nuevos_fpp_h2534     6
 4 Afganistán AF    AFG    1997 nuevos_fpp_h3544     3
 5 Afganistán AF    AFG    1997 nuevos_fpp_h4554     5
 6 Afganistán AF    AFG    1997 nuevos_fpp_h5564     2
 7 Afganistán AF    AFG    1997 nuevos_fpp_h65       0
 8 Afganistán AF    AFG    1997 nuevos_fpp_m014      5
 9 Afganistán AF    AFG    1997 nuevos_fpp_m1524    38
10 Afganistán AF    AFG    1997 nuevos_fpp_m2534    36
# … with 76,036 more rows</code></pre>
</div>
</div>
<p>Una vez reemplazado, nos facilita separar los valores en cada código aplicando <code>separate()</code> dos veces. La primera aplicación dividirá los códigos en cada <code>_</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">oms3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> oms2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">separate</span>(clave, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nuevos"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tipo"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo_edad"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_"</span>)</span>
<span id="cb10-3">oms3</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 76,046 × 8
   pais       iso2  iso3   anio nuevos tipo  sexo_edad casos
   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;
 1 Afganistán AF    AFG    1997 nuevos fpp   h014          0
 2 Afganistán AF    AFG    1997 nuevos fpp   h1524        10
 3 Afganistán AF    AFG    1997 nuevos fpp   h2534         6
 4 Afganistán AF    AFG    1997 nuevos fpp   h3544         3
 5 Afganistán AF    AFG    1997 nuevos fpp   h4554         5
 6 Afganistán AF    AFG    1997 nuevos fpp   h5564         2
 7 Afganistán AF    AFG    1997 nuevos fpp   h65           0
 8 Afganistán AF    AFG    1997 nuevos fpp   m014          5
 9 Afganistán AF    AFG    1997 nuevos fpp   m1524        38
10 Afganistán AF    AFG    1997 nuevos fpp   m2534        36
# … with 76,036 more rows</code></pre>
</div>
</div>
<p>A continuación podemos eliminar la columna <code>nuevos</code>, ya que es constante en este dataset. Además eliminaremos <code>iso2</code> e <code>iso3</code> ya que son redundantes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">oms3 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(nuevos)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  nuevos     n
  &lt;chr&gt;  &lt;int&gt;
1 nuevos 76046</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">oms4 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> oms3 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb14-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>nuevos, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>iso2, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>iso3)</span></code></pre></div>
</div>
<p>Luego separamos <code>sexo_edad</code> en <code>sexo</code> y <code>edad</code> dividiendo luego del primer carácter:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">oms5 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> oms4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb15-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">separate</span>(sexo_edad, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"edad"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb15-3">oms5</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 76,046 × 6
   pais        anio tipo  sexo  edad  casos
   &lt;chr&gt;      &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt;
 1 Afganistán  1997 fpp   h     014       0
 2 Afganistán  1997 fpp   h     1524     10
 3 Afganistán  1997 fpp   h     2534      6
 4 Afganistán  1997 fpp   h     3544      3
 5 Afganistán  1997 fpp   h     4554      5
 6 Afganistán  1997 fpp   h     5564      2
 7 Afganistán  1997 fpp   h     65        0
 8 Afganistán  1997 fpp   m     014       5
 9 Afganistán  1997 fpp   m     1524     38
10 Afganistán  1997 fpp   m     2534     36
# … with 76,036 more rows</code></pre>
</div>
</div>
<p>¡Ahora la base de datos <code>oms</code> está ordenado!</p>
</section>
</section>
<section id="resumen" class="level2">
<h2 class="anchored" data-anchor-id="resumen">Resumen</h2>
<p>En la anterior sección se hizo el procedimiento de ordenación paso a paso, asignando los resultados intermedios a nuevas variables. Esta no es la forma típica de trabajo. En realidad, los códigos debería ser de manera incremental usando <code>pipes ("%&gt;%)</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">fsdata<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> oms <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb17-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(</span>
<span id="cb17-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> nuevos_fpp_h014<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>nuevosrecaida_m65,</span>
<span id="cb17-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"clave"</span>, </span>
<span id="cb17-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"valor"</span>, </span>
<span id="cb17-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_drop_na =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb17-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">clave =</span> stringr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace</span>(clave, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nuevosrecaida"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nuevos_recaida"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb17-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">separate</span>(clave, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nuevos"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tipo"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo_edad"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb17-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>nuevos, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>iso2, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>iso3) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb17-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">separate</span>(sexo_edad, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"edad"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb17-11">fsdata</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 76,046 × 6
   pais        anio tipo  sexo  edad  valor
   &lt;chr&gt;      &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt;
 1 Afganistán  1997 fpp   h     014       0
 2 Afganistán  1997 fpp   h     1524     10
 3 Afganistán  1997 fpp   h     2534      6
 4 Afganistán  1997 fpp   h     3544      3
 5 Afganistán  1997 fpp   h     4554      5
 6 Afganistán  1997 fpp   h     5564      2
 7 Afganistán  1997 fpp   h     65        0
 8 Afganistán  1997 fpp   m     014       5
 9 Afganistán  1997 fpp   m     1524     38
10 Afganistán  1997 fpp   m     2534     36
# … with 76,036 more rows</code></pre>
</div>
</div>
</section>
<section id="conclusión" class="level2">
<h2 class="anchored" data-anchor-id="conclusión">Conclusión</h2>
<p>Es un ejemplo muy bueno para practicar y usar las diferentes funciones de <code>tidyverse</code> en la ordenación de datos.</p>


</section>

 ]]></description>
  <category>Data Science</category>
  <category>Tidy Data</category>
  <category>Tidyverse</category>
  <guid>https://franklinsantosm.com/posts/tidyexam/index.html</guid>
  <pubDate>Sat, 31 Oct 2020 04:00:00 GMT</pubDate>
  <media:content url="https://franklinsantosm.com/posts/tidyexam/featured.png" medium="image" type="image/png" height="67" width="144"/>
</item>
</channel>
</rss>
